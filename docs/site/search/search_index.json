{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome 3rd-tech","title":"Welcome 3rd-tech"},{"location":"#welcome-3rd-tech","text":"","title":"Welcome 3rd-tech"},{"location":"CLOUDWATCH%20LOG/","text":"CLOUDWATCH LOG \uc218\uc9d1 \ub9e4\ub274\uc5bc \uc0ac\uc804 \uc791\uc5c5 IAM \uacc4\uc815\uc0dd\uc131 \ubc0f \uad8c\ud55c \ubd80\uc5ec cloudwatch log\uc218\uc9d1\uc744 \uc704\ud574\uc11c\ub294 \uc11c\ubc84 \uc791\uc5c5\uacfc \ubcc4\ub3c4\ub85c IAM \uacc4\uc815\uc0dd\uc131\uacfc \uad8c\ud55c\ud560\ub2f9 \uc791\uc5c5\uc744 \uc120 \uc9c4\ud589\ud558\uc5ec\uc57c\ud558\uba70 \uc791\uc5c5\uc774 \uc644\ub8cc\ub41c \ud6c4 \uacc4\uc815\uc758 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4\ub97c \ubc1c\uae09 \ubc1b\ub294\ub2e4. \uacc4\uc815\uc0dd\uc131 \uacc4\uc815\uc0dd\uc131- \uacc4\uc815\uc774\ub984 \uc785\ub825- \uc561\uc11c\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c\uc124\uc815 \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd - CloudWatchAgentServerPolicy\uc815\ucc45 \ucd94\uac00 3. \ud0a4\ud655\uc778 \uc561\uc138\uc2a4 \ud0a4 \ud655\uc778 \ubc0f \ube44\ubc00\ud0a4 \ud655\uc778 \uc11c\ubc84 \uc791\uc5c5 \uc124\uce58 \uc791\uc5c5 awslogs \uc124\uce58\ub294 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc124\uce58 yum install -y awslogs aws configure\ub97c \ud1b5\ud55c IAM \ud0a4 \uc785\ub825 aws configure \uba85\ub839\uc5b4 \uc785\ub825 - \uc561\uc138\uc2a4\ud0a4 \uc694\uad6c \ubc0f\uc785\ub825 - \ube44\ubc00\ud0a4 \uc694\uad6c\ubc0f \uc785\ub825(\uc704 IAM\uacc4\uc815\uc758 \ud0a4 \uc785\ub825) \uc124\uc815 \uad00\ub828 /etc/awslogs/awscli.conf region = ap-northeast-2 \ucd94\uac00 \uc124\uc815\uc5c6\uc774 \ub9ac\uc804\ub9cc \ub85c\uadf8 \uc218\uc9d1\uc744 \uc704\ud55c \ub9ac\uc804\uc73c\ub85c \ubcc0\uacbd /etc/awslogs/awslog.conf \ud574\ub2f9 \ucee8\ud53c\uadf8 \ud30c\uc77c\uc758 \uc81c\uc77c \ud558\ub2e8\uc5d0 \ub85c\uadf8 \uc218\uc9d1 \ub300\uc0c1 \ub85c\uadf8\ub97c \uc544\ub798\uc758 \ud615\uc2dd\uc73c\ub85c \uc791\uc131 [/var/log/messages] \u2013 \uc218\uc9d1\ub85c\uadf8 \uacbd\ub85c\uc640 \ud30c\uc77c \uc9c0\uc815 datetime_format = %b %d %H:%M:%S (\ub85c\uadf8\uc758 \ub370\uc774\ud130 \ud3ec\ub9f7 \uc9c0\uc815) [^%Y]: year 1970, 1988, 2001, 2019 [^%p]: AM or PM [^%M]: minute 00, 01 \u2026 ,59 [^%S]: Second 00, 01, \u2026 ,59 [^%f]: Microsecond 000000, 000001, \u2026 ,999999 [^B]: \ub85c\uce98 \uc804\uccb4 \uc774\ub984 \ud615\ud0dc\uc758 \uc6d4. January, February, \u2026, December [^b]: \ub85c\uce98 \uc57d\uc5b4 \ud615\ud0dc\uc758 \uc6d4. Jan, Feb, \u2026, Dec file = /var/log/messages (\ub85c\uadf8 \ud30c\uc77c \uc704\uce58) buffer_duration = 5000 (\ub85c\uadf8 \uc774\ubca4\ud2b8\ub97c \uc77c\uad04 \ucc98\ub9ac\ud558\ub294 \uae30\uac04\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4. \ucd5c\uc18c\uac12\uc740 5000ms\uc774\uace0, \uae30\ubcf8\uac12\uc740 5000ms\uc785\ub2c8\ub2e4.) log_stream_name = {instance_id} (\ub300\uc0c1\ub85c\uadf8 \uc2a4\ud2b8\ub9bc \uc774\ub984 \uc9c0\uc815{instance_id}, {hostname}, {ip_address}) initial_position = start_of_file log_group_name = /var/log/messages(cloudwatch \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784 \uc9c0\uc815 ) time_zone=LOCAL multi_line_start_pattern ={datetime_format} (\ub85c\uadf8 \uc904 \ub2e8\uc704 \uae30\uc900\uc810. datetime_fomat \uba40\ud2f0\ub77c\uc778 \ucc98\ub9ac) /var/log/awslogs.log awslogs\uc11c\ube44\uc2a4 \uc2e4\ud589 \ud6c4 \ubc1c\uc0dd\ub418\ub294 \ub85c\uadf8. \uc2e4\ud589 \ubc0f \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d \uc2e4\ud589 \uba85\ub839\uc5b4 service awslogs start \ub9ac\ubd93\uc2dc \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d chkconfig awslogs on (amazon linux2 \uc778 \uacbd\uc6b0 systemctl enable awslogsd.service) cloudwatch \uc124\uc815 \uc815\uc0c1\uc801\uc73c\ub85c \uc11c\ubc84\uc758 \ub85c\uadf8\uac00 \uc218\uc9d1\ub41c\ub2e4\uba74 cloudwatch - log\ud56d\ubaa9\uc5d0\uc11c \uc11c\ubc84\uc5d0\uc11c \uc9c0\uc815\ud55c \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784\uc774 \ubcf4\uc774\uba70 \uc774\ub97c \ud074\ub9ad\uc2dc \uc11c\ubc84 \uc778\uc2a4\ud134\uc2a4 ID\ubcc4\ub85c \ub85c\uadf8 \uc218\uc9d1\ub418\ub294 \ub0b4\uc5ed \ud655\uc778 \uac00\ub2a5 \uc218\uc9d1\ub41c \ub370\uc774\ud130\ub294 \ub300\uc2dc\ubcf4\ub4dc\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \ubcf4\uc5ec\uc8fc\ub294\uae30\ub2a5\uc740 \ubc14\ub85c \uac00\ub2a5\ud558\ub098 \uc774\ub97c \uac00\uc9c0\uace0 \uadf8\ub798\ud504\ub97c \ud1b5\ud55c \uc2dc\uac01\ud654\ub97c \ud560\uc218 \uc5c6\uc5b4 \uc9c0\ud45c\ub97c \ud1b5\ud55c \uadf8\ub798\ud504\ub97c \uc0dd\uc131\ud558\uc5ec\uc57c\ud568. cloudwatch -\ub85c\uadf8- \ub85c\uadf8\uadf8\ub8f9\uc911 \ud544\ud130\uae30\ub2a5\uc744 \uc4f8 \uc9c0\ud45c\uc120\ud0dd -\uc9c0\ud45c \ud544\ud130 \ud074\ub9ad \uc9c0\ud45c \ud544\ud130 \ucd94\uac00 \ubc84\ud2bc \ud074\ub9ad \ud544\ud130\ub9c1 \ud558\uace0\uc790\ud558\ub294 \uac12\uc744 \ub123\uace0 [\uc815\uaddc\uc2dd\uc9c0\uc6d0]\ud328\ud134 \ud14c\uc2a4\ud2b8 \ud6c4 \uc9c0\ud45c\ud560\ub2f9 \ud074\ub9ad \uc774\ud6c4 \uc9c0\ud45c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub294 \ub85c\uadf8 \uadf8\ub8f9 \ub124\uc784 \uc911 \ucd94\ucd9c\ud558\uace0\uc790\ud558\ub294 \uc9c0\ud45c\uc601\uc5ed \uc9c0\ud45c\uc774\ub984\uc740 \ud574\ub2f9 \uc9c0\ud45c\ub97c \uc120\ud0dd cloudwatch - \uc9c0\ud45c \uc120\ud0dd - \ubaa8\ub4e0 \uc9c0\ud45c\uc5d0\uc11c \ub85c\uadf8 \uadf8\ub8f9 \ud544\ud130\ub97c \uc801\uc6a9\ud55c \ub85c\uadf8 \uadf8\ub8f9\uc758 incomingLogEvents\uc120\ud0dd \uadf8\ub798\ud504\ub85c \ud45c\uc2dc\ub41c \uc9c0\ud45c \ud0ed \uc120\ud0dd - \ud544\ud130\uac00 \uc801\uc6a9\ub41c \uadf8\ub798\ud504\uac00 \ub098\uc624\uba70 \uadf8\ub798\ud504\uc758 \uc791\uc5c5 \ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00\ub97c \uc120\ud0dd\ud558\uc5ec \ub300\uc2dc\ubcf4\ub4dc\ub85c \uadf8\ub798\ud504 \ub4f1\ub85d \uc624\ub958 \ub300\ucc98 \ubc95 \ub85c\uadf8 \uc218\uc9d1\uc774 \ub418\uc9c0 \uc54a\uace0 awslogs.log\ud30c\uc77c\uc5d0 \uc544\ub798\uc640 \uac19\uc774 \ub85c\uadf8 \uac00 \ucc0d\ud788\ub294 \uacbd\uc6b0 \ucc98\ub9ac \ubc29\uc548 reason: timestamp is more than 2 hours in future. /var/lib/awslogs/agent-state\ub97c \uc0ad\uc81c \ud574\ub2f9 \ubc29\ubc95\uc73c\ub85c \ucc98\ub9ac\uc2dc \uc218\uc9d1\ub418\ub294 \ub85c\uadf8\uac00 \ucc98\uc74c\ubd80\ud130 \ub2e4\uc2dc \ub85c\uadf8\uac00 \uc218\uc9d1\ub429 sqlite3 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 agent-state \uc624\ub958 \ucc98\ub9ac sudo sqlite3 /var/lib/awslogs/agent-state select * from stream_state; \ud1b5\ud574 \ubb38\uc81c\uac00 \ub418\ub294 \uc18c\uc2a4ID\ud655\uc778 select * from push_state where k=\u201d\ud655\uc778\ub41c \uc18c\uc2a4ID\u201d; update push_state set v=\u2019\u2026 insert new value here \u2026\u2019 where k=\u20187675f84405fcb8fe5b6bb14eaa0c4bfd\u2019; service awslogs restart \ucc38\uace0 URL https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/AgentReference.html https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/QuickStartEC2Instance.html https://stackoverflow.com/questions/40604940/cloudwatch-logs-acting-weird \uacc4\uc815 \uc0dd\uc131 IAM \uacc4\uc815\uc0dd\uc131 - \uc0ac\uc6a9\uc790 \uc774\ub984\uc744 \uc815\ud574\uc900 \ub4a4 \uc561\uc138\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c \ubd80\uc5ec \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd- \uc815\ucc45 \uc911 CloudWatchAgentServerPolicy \uc120\ud0dd \uacc4\uc815\uc0dd\uc131 \ud6c4 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4 \ud655\uc778","title":"CLOUDWATCH LOG \uc218\uc9d1 \ub9e4\ub274\uc5bc"},{"location":"CLOUDWATCH%20LOG/#cloudwatch-log","text":"","title":"CLOUDWATCH LOG \uc218\uc9d1 \ub9e4\ub274\uc5bc"},{"location":"CLOUDWATCH%20LOG/#_1","text":"","title":"\uc0ac\uc804 \uc791\uc5c5"},{"location":"CLOUDWATCH%20LOG/#iam","text":"cloudwatch log\uc218\uc9d1\uc744 \uc704\ud574\uc11c\ub294 \uc11c\ubc84 \uc791\uc5c5\uacfc \ubcc4\ub3c4\ub85c IAM \uacc4\uc815\uc0dd\uc131\uacfc \uad8c\ud55c\ud560\ub2f9 \uc791\uc5c5\uc744 \uc120 \uc9c4\ud589\ud558\uc5ec\uc57c\ud558\uba70 \uc791\uc5c5\uc774 \uc644\ub8cc\ub41c \ud6c4 \uacc4\uc815\uc758 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4\ub97c \ubc1c\uae09 \ubc1b\ub294\ub2e4. \uacc4\uc815\uc0dd\uc131 \uacc4\uc815\uc0dd\uc131- \uacc4\uc815\uc774\ub984 \uc785\ub825- \uc561\uc11c\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c\uc124\uc815 \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd - CloudWatchAgentServerPolicy\uc815\ucc45 \ucd94\uac00 3. \ud0a4\ud655\uc778 \uc561\uc138\uc2a4 \ud0a4 \ud655\uc778 \ubc0f \ube44\ubc00\ud0a4 \ud655\uc778","title":"IAM \uacc4\uc815\uc0dd\uc131 \ubc0f \uad8c\ud55c \ubd80\uc5ec"},{"location":"CLOUDWATCH%20LOG/#_2","text":"","title":"\uc11c\ubc84 \uc791\uc5c5"},{"location":"CLOUDWATCH%20LOG/#_3","text":"awslogs \uc124\uce58\ub294 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc124\uce58 yum install -y awslogs aws configure\ub97c \ud1b5\ud55c IAM \ud0a4 \uc785\ub825 aws configure \uba85\ub839\uc5b4 \uc785\ub825 - \uc561\uc138\uc2a4\ud0a4 \uc694\uad6c \ubc0f\uc785\ub825 - \ube44\ubc00\ud0a4 \uc694\uad6c\ubc0f \uc785\ub825(\uc704 IAM\uacc4\uc815\uc758 \ud0a4 \uc785\ub825)","title":"\uc124\uce58 \uc791\uc5c5"},{"location":"CLOUDWATCH%20LOG/#_4","text":"/etc/awslogs/awscli.conf region = ap-northeast-2 \ucd94\uac00 \uc124\uc815\uc5c6\uc774 \ub9ac\uc804\ub9cc \ub85c\uadf8 \uc218\uc9d1\uc744 \uc704\ud55c \ub9ac\uc804\uc73c\ub85c \ubcc0\uacbd /etc/awslogs/awslog.conf \ud574\ub2f9 \ucee8\ud53c\uadf8 \ud30c\uc77c\uc758 \uc81c\uc77c \ud558\ub2e8\uc5d0 \ub85c\uadf8 \uc218\uc9d1 \ub300\uc0c1 \ub85c\uadf8\ub97c \uc544\ub798\uc758 \ud615\uc2dd\uc73c\ub85c \uc791\uc131 [/var/log/messages] \u2013 \uc218\uc9d1\ub85c\uadf8 \uacbd\ub85c\uc640 \ud30c\uc77c \uc9c0\uc815 datetime_format = %b %d %H:%M:%S (\ub85c\uadf8\uc758 \ub370\uc774\ud130 \ud3ec\ub9f7 \uc9c0\uc815) [^%Y]: year 1970, 1988, 2001, 2019 [^%p]: AM or PM [^%M]: minute 00, 01 \u2026 ,59 [^%S]: Second 00, 01, \u2026 ,59 [^%f]: Microsecond 000000, 000001, \u2026 ,999999 [^B]: \ub85c\uce98 \uc804\uccb4 \uc774\ub984 \ud615\ud0dc\uc758 \uc6d4. January, February, \u2026, December [^b]: \ub85c\uce98 \uc57d\uc5b4 \ud615\ud0dc\uc758 \uc6d4. Jan, Feb, \u2026, Dec file = /var/log/messages (\ub85c\uadf8 \ud30c\uc77c \uc704\uce58) buffer_duration = 5000 (\ub85c\uadf8 \uc774\ubca4\ud2b8\ub97c \uc77c\uad04 \ucc98\ub9ac\ud558\ub294 \uae30\uac04\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4. \ucd5c\uc18c\uac12\uc740 5000ms\uc774\uace0, \uae30\ubcf8\uac12\uc740 5000ms\uc785\ub2c8\ub2e4.) log_stream_name = {instance_id} (\ub300\uc0c1\ub85c\uadf8 \uc2a4\ud2b8\ub9bc \uc774\ub984 \uc9c0\uc815{instance_id}, {hostname}, {ip_address}) initial_position = start_of_file log_group_name = /var/log/messages(cloudwatch \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784 \uc9c0\uc815 ) time_zone=LOCAL multi_line_start_pattern ={datetime_format} (\ub85c\uadf8 \uc904 \ub2e8\uc704 \uae30\uc900\uc810. datetime_fomat \uba40\ud2f0\ub77c\uc778 \ucc98\ub9ac) /var/log/awslogs.log awslogs\uc11c\ube44\uc2a4 \uc2e4\ud589 \ud6c4 \ubc1c\uc0dd\ub418\ub294 \ub85c\uadf8.","title":"\uc124\uc815 \uad00\ub828"},{"location":"CLOUDWATCH%20LOG/#_5","text":"\uc2e4\ud589 \uba85\ub839\uc5b4 service awslogs start \ub9ac\ubd93\uc2dc \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d chkconfig awslogs on (amazon linux2 \uc778 \uacbd\uc6b0 systemctl enable awslogsd.service)","title":"\uc2e4\ud589 \ubc0f \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d"},{"location":"CLOUDWATCH%20LOG/#cloudwatch","text":"\uc815\uc0c1\uc801\uc73c\ub85c \uc11c\ubc84\uc758 \ub85c\uadf8\uac00 \uc218\uc9d1\ub41c\ub2e4\uba74 cloudwatch - log\ud56d\ubaa9\uc5d0\uc11c \uc11c\ubc84\uc5d0\uc11c \uc9c0\uc815\ud55c \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784\uc774 \ubcf4\uc774\uba70 \uc774\ub97c \ud074\ub9ad\uc2dc \uc11c\ubc84 \uc778\uc2a4\ud134\uc2a4 ID\ubcc4\ub85c \ub85c\uadf8 \uc218\uc9d1\ub418\ub294 \ub0b4\uc5ed \ud655\uc778 \uac00\ub2a5 \uc218\uc9d1\ub41c \ub370\uc774\ud130\ub294 \ub300\uc2dc\ubcf4\ub4dc\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \ubcf4\uc5ec\uc8fc\ub294\uae30\ub2a5\uc740 \ubc14\ub85c \uac00\ub2a5\ud558\ub098 \uc774\ub97c \uac00\uc9c0\uace0 \uadf8\ub798\ud504\ub97c \ud1b5\ud55c \uc2dc\uac01\ud654\ub97c \ud560\uc218 \uc5c6\uc5b4 \uc9c0\ud45c\ub97c \ud1b5\ud55c \uadf8\ub798\ud504\ub97c \uc0dd\uc131\ud558\uc5ec\uc57c\ud568. cloudwatch -\ub85c\uadf8- \ub85c\uadf8\uadf8\ub8f9\uc911 \ud544\ud130\uae30\ub2a5\uc744 \uc4f8 \uc9c0\ud45c\uc120\ud0dd -\uc9c0\ud45c \ud544\ud130 \ud074\ub9ad \uc9c0\ud45c \ud544\ud130 \ucd94\uac00 \ubc84\ud2bc \ud074\ub9ad \ud544\ud130\ub9c1 \ud558\uace0\uc790\ud558\ub294 \uac12\uc744 \ub123\uace0 [\uc815\uaddc\uc2dd\uc9c0\uc6d0]\ud328\ud134 \ud14c\uc2a4\ud2b8 \ud6c4 \uc9c0\ud45c\ud560\ub2f9 \ud074\ub9ad \uc774\ud6c4 \uc9c0\ud45c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub294 \ub85c\uadf8 \uadf8\ub8f9 \ub124\uc784 \uc911 \ucd94\ucd9c\ud558\uace0\uc790\ud558\ub294 \uc9c0\ud45c\uc601\uc5ed \uc9c0\ud45c\uc774\ub984\uc740 \ud574\ub2f9 \uc9c0\ud45c\ub97c \uc120\ud0dd cloudwatch - \uc9c0\ud45c \uc120\ud0dd - \ubaa8\ub4e0 \uc9c0\ud45c\uc5d0\uc11c \ub85c\uadf8 \uadf8\ub8f9 \ud544\ud130\ub97c \uc801\uc6a9\ud55c \ub85c\uadf8 \uadf8\ub8f9\uc758 incomingLogEvents\uc120\ud0dd \uadf8\ub798\ud504\ub85c \ud45c\uc2dc\ub41c \uc9c0\ud45c \ud0ed \uc120\ud0dd - \ud544\ud130\uac00 \uc801\uc6a9\ub41c \uadf8\ub798\ud504\uac00 \ub098\uc624\uba70 \uadf8\ub798\ud504\uc758 \uc791\uc5c5 \ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00\ub97c \uc120\ud0dd\ud558\uc5ec \ub300\uc2dc\ubcf4\ub4dc\ub85c \uadf8\ub798\ud504 \ub4f1\ub85d","title":"cloudwatch \uc124\uc815"},{"location":"CLOUDWATCH%20LOG/#_6","text":"\ub85c\uadf8 \uc218\uc9d1\uc774 \ub418\uc9c0 \uc54a\uace0 awslogs.log\ud30c\uc77c\uc5d0 \uc544\ub798\uc640 \uac19\uc774 \ub85c\uadf8 \uac00 \ucc0d\ud788\ub294 \uacbd\uc6b0 \ucc98\ub9ac \ubc29\uc548 reason: timestamp is more than 2 hours in future. /var/lib/awslogs/agent-state\ub97c \uc0ad\uc81c \ud574\ub2f9 \ubc29\ubc95\uc73c\ub85c \ucc98\ub9ac\uc2dc \uc218\uc9d1\ub418\ub294 \ub85c\uadf8\uac00 \ucc98\uc74c\ubd80\ud130 \ub2e4\uc2dc \ub85c\uadf8\uac00 \uc218\uc9d1\ub429 sqlite3 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 agent-state \uc624\ub958 \ucc98\ub9ac sudo sqlite3 /var/lib/awslogs/agent-state select * from stream_state; \ud1b5\ud574 \ubb38\uc81c\uac00 \ub418\ub294 \uc18c\uc2a4ID\ud655\uc778 select * from push_state where k=\u201d\ud655\uc778\ub41c \uc18c\uc2a4ID\u201d; update push_state set v=\u2019\u2026 insert new value here \u2026\u2019 where k=\u20187675f84405fcb8fe5b6bb14eaa0c4bfd\u2019; service awslogs restart","title":"\uc624\ub958 \ub300\ucc98 \ubc95"},{"location":"CLOUDWATCH%20LOG/#url","text":"https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/AgentReference.html https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/QuickStartEC2Instance.html https://stackoverflow.com/questions/40604940/cloudwatch-logs-acting-weird \uacc4\uc815 \uc0dd\uc131 IAM \uacc4\uc815\uc0dd\uc131 - \uc0ac\uc6a9\uc790 \uc774\ub984\uc744 \uc815\ud574\uc900 \ub4a4 \uc561\uc138\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c \ubd80\uc5ec \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd- \uc815\ucc45 \uc911 CloudWatchAgentServerPolicy \uc120\ud0dd \uacc4\uc815\uc0dd\uc131 \ud6c4 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4 \ud655\uc778","title":"\ucc38\uace0 URL"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/","text":"2222222CLOUDWATCH LOG \uc218\uc9d1 \ub9e4\ub274\uc5bc \uc0ac\uc804 \uc791\uc5c5 IAM \uacc4\uc815\uc0dd\uc131 \ubc0f \uad8c\ud55c \ubd80\uc5ec cloudwatch log\uc218\uc9d1\uc744 \uc704\ud574\uc11c\ub294 \uc11c\ubc84 \uc791\uc5c5\uacfc \ubcc4\ub3c4\ub85c IAM \uacc4\uc815\uc0dd\uc131\uacfc \uad8c\ud55c\ud560\ub2f9 \uc791\uc5c5\uc744 \uc120 \uc9c4\ud589\ud558\uc5ec\uc57c\ud558\uba70 \uc791\uc5c5\uc774 \uc644\ub8cc\ub41c \ud6c4 \uacc4\uc815\uc758 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4\ub97c \ubc1c\uae09 \ubc1b\ub294\ub2e4. \uacc4\uc815\uc0dd\uc131 \uacc4\uc815\uc0dd\uc131- \uacc4\uc815\uc774\ub984 \uc785\ub825- \uc561\uc11c\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c\uc124\uc815 \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd - CloudWatchAgentServerPolicy\uc815\ucc45 \ucd94\uac00 3. \ud0a4\ud655\uc778 \uc561\uc138\uc2a4 \ud0a4 \ud655\uc778 \ubc0f \ube44\ubc00\ud0a4 \ud655\uc778 \uc11c\ubc84 \uc791\uc5c5 \uc124\uce58 \uc791\uc5c5 awslogs \uc124\uce58\ub294 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc124\uce58 yum install -y awslogs aws configure\ub97c \ud1b5\ud55c IAM \ud0a4 \uc785\ub825 aws configure \uba85\ub839\uc5b4 \uc785\ub825 - \uc561\uc138\uc2a4\ud0a4 \uc694\uad6c \ubc0f\uc785\ub825 - \ube44\ubc00\ud0a4 \uc694\uad6c\ubc0f \uc785\ub825(\uc704 IAM\uacc4\uc815\uc758 \ud0a4 \uc785\ub825) \uc124\uc815 \uad00\ub828 /etc/awslogs/awscli.conf region = ap-northeast-2 \ucd94\uac00 \uc124\uc815\uc5c6\uc774 \ub9ac\uc804\ub9cc \ub85c\uadf8 \uc218\uc9d1\uc744 \uc704\ud55c \ub9ac\uc804\uc73c\ub85c \ubcc0\uacbd /etc/awslogs/awslog.conf \ud574\ub2f9 \ucee8\ud53c\uadf8 \ud30c\uc77c\uc758 \uc81c\uc77c \ud558\ub2e8\uc5d0 \ub85c\uadf8 \uc218\uc9d1 \ub300\uc0c1 \ub85c\uadf8\ub97c \uc544\ub798\uc758 \ud615\uc2dd\uc73c\ub85c \uc791\uc131 [/var/log/messages] \u2013 \uc218\uc9d1\ub85c\uadf8 \uacbd\ub85c\uc640 \ud30c\uc77c \uc9c0\uc815 datetime_format = %b %d %H:%M:%S (\ub85c\uadf8\uc758 \ub370\uc774\ud130 \ud3ec\ub9f7 \uc9c0\uc815) [^%Y]: year 1970, 1988, 2001, 2019 [^%p]: AM or PM [^%M]: minute 00, 01 \u2026 ,59 [^%S]: Second 00, 01, \u2026 ,59 [^%f]: Microsecond 000000, 000001, \u2026 ,999999 [^B]: \ub85c\uce98 \uc804\uccb4 \uc774\ub984 \ud615\ud0dc\uc758 \uc6d4. January, February, \u2026, December [^b]: \ub85c\uce98 \uc57d\uc5b4 \ud615\ud0dc\uc758 \uc6d4. Jan, Feb, \u2026, Dec file = /var/log/messages (\ub85c\uadf8 \ud30c\uc77c \uc704\uce58) buffer_duration = 5000 (\ub85c\uadf8 \uc774\ubca4\ud2b8\ub97c \uc77c\uad04 \ucc98\ub9ac\ud558\ub294 \uae30\uac04\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4. \ucd5c\uc18c\uac12\uc740 5000ms\uc774\uace0, \uae30\ubcf8\uac12\uc740 5000ms\uc785\ub2c8\ub2e4.) log_stream_name = {instance_id} (\ub300\uc0c1\ub85c\uadf8 \uc2a4\ud2b8\ub9bc \uc774\ub984 \uc9c0\uc815{instance_id}, {hostname}, {ip_address}) initial_position = start_of_file log_group_name = /var/log/messages(cloudwatch \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784 \uc9c0\uc815 ) time_zone=LOCAL multi_line_start_pattern ={datetime_format} (\ub85c\uadf8 \uc904 \ub2e8\uc704 \uae30\uc900\uc810. datetime_fomat \uba40\ud2f0\ub77c\uc778 \ucc98\ub9ac) /var/log/awslogs.log awslogs\uc11c\ube44\uc2a4 \uc2e4\ud589 \ud6c4 \ubc1c\uc0dd\ub418\ub294 \ub85c\uadf8. \uc2e4\ud589 \ubc0f \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d \uc2e4\ud589 \uba85\ub839\uc5b4 service awslogs start \ub9ac\ubd93\uc2dc \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d chkconfig awslogs on (amazon linux2 \uc778 \uacbd\uc6b0 systemctl enable awslogsd.service) cloudwatch \uc124\uc815 \uc815\uc0c1\uc801\uc73c\ub85c \uc11c\ubc84\uc758 \ub85c\uadf8\uac00 \uc218\uc9d1\ub41c\ub2e4\uba74 cloudwatch - log\ud56d\ubaa9\uc5d0\uc11c \uc11c\ubc84\uc5d0\uc11c \uc9c0\uc815\ud55c \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784\uc774 \ubcf4\uc774\uba70 \uc774\ub97c \ud074\ub9ad\uc2dc \uc11c\ubc84 \uc778\uc2a4\ud134\uc2a4 ID\ubcc4\ub85c \ub85c\uadf8 \uc218\uc9d1\ub418\ub294 \ub0b4\uc5ed \ud655\uc778 \uac00\ub2a5 \uc218\uc9d1\ub41c \ub370\uc774\ud130\ub294 \ub300\uc2dc\ubcf4\ub4dc\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \ubcf4\uc5ec\uc8fc\ub294\uae30\ub2a5\uc740 \ubc14\ub85c \uac00\ub2a5\ud558\ub098 \uc774\ub97c \uac00\uc9c0\uace0 \uadf8\ub798\ud504\ub97c \ud1b5\ud55c \uc2dc\uac01\ud654\ub97c \ud560\uc218 \uc5c6\uc5b4 \uc9c0\ud45c\ub97c \ud1b5\ud55c \uadf8\ub798\ud504\ub97c \uc0dd\uc131\ud558\uc5ec\uc57c\ud568. cloudwatch -\ub85c\uadf8- \ub85c\uadf8\uadf8\ub8f9\uc911 \ud544\ud130\uae30\ub2a5\uc744 \uc4f8 \uc9c0\ud45c\uc120\ud0dd -\uc9c0\ud45c \ud544\ud130 \ud074\ub9ad \uc9c0\ud45c \ud544\ud130 \ucd94\uac00 \ubc84\ud2bc \ud074\ub9ad \ud544\ud130\ub9c1 \ud558\uace0\uc790\ud558\ub294 \uac12\uc744 \ub123\uace0 [\uc815\uaddc\uc2dd\uc9c0\uc6d0]\ud328\ud134 \ud14c\uc2a4\ud2b8 \ud6c4 \uc9c0\ud45c\ud560\ub2f9 \ud074\ub9ad \uc774\ud6c4 \uc9c0\ud45c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub294 \ub85c\uadf8 \uadf8\ub8f9 \ub124\uc784 \uc911 \ucd94\ucd9c\ud558\uace0\uc790\ud558\ub294 \uc9c0\ud45c\uc601\uc5ed \uc9c0\ud45c\uc774\ub984\uc740 \ud574\ub2f9 \uc9c0\ud45c\ub97c \uc120\ud0dd cloudwatch - \uc9c0\ud45c \uc120\ud0dd - \ubaa8\ub4e0 \uc9c0\ud45c\uc5d0\uc11c \ub85c\uadf8 \uadf8\ub8f9 \ud544\ud130\ub97c \uc801\uc6a9\ud55c \ub85c\uadf8 \uadf8\ub8f9\uc758 incomingLogEvents\uc120\ud0dd \uadf8\ub798\ud504\ub85c \ud45c\uc2dc\ub41c \uc9c0\ud45c \ud0ed \uc120\ud0dd - \ud544\ud130\uac00 \uc801\uc6a9\ub41c \uadf8\ub798\ud504\uac00 \ub098\uc624\uba70 \uadf8\ub798\ud504\uc758 \uc791\uc5c5 \ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00\ub97c \uc120\ud0dd\ud558\uc5ec \ub300\uc2dc\ubcf4\ub4dc\ub85c \uadf8\ub798\ud504 \ub4f1\ub85d \uc624\ub958 \ub300\ucc98 \ubc95 \ub85c\uadf8 \uc218\uc9d1\uc774 \ub418\uc9c0 \uc54a\uace0 awslogs.log\ud30c\uc77c\uc5d0 \uc544\ub798\uc640 \uac19\uc774 \ub85c\uadf8 \uac00 \ucc0d\ud788\ub294 \uacbd\uc6b0 \ucc98\ub9ac \ubc29\uc548 reason: timestamp is more than 2 hours in future. /var/lib/awslogs/agent-state\ub97c \uc0ad\uc81c \ud574\ub2f9 \ubc29\ubc95\uc73c\ub85c \ucc98\ub9ac\uc2dc \uc218\uc9d1\ub418\ub294 \ub85c\uadf8\uac00 \ucc98\uc74c\ubd80\ud130 \ub2e4\uc2dc \ub85c\uadf8\uac00 \uc218\uc9d1\ub429 sqlite3 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 agent-state \uc624\ub958 \ucc98\ub9ac sudo sqlite3 /var/lib/awslogs/agent-state select * from stream_state; \ud1b5\ud574 \ubb38\uc81c\uac00 \ub418\ub294 \uc18c\uc2a4ID\ud655\uc778 select * from push_state where k=\u201d\ud655\uc778\ub41c \uc18c\uc2a4ID\u201d; update push_state set v=\u2019\u2026 insert new value here \u2026\u2019 where k=\u20187675f84405fcb8fe5b6bb14eaa0c4bfd\u2019; service awslogs restart \ucc38\uace0 URL https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/AgentReference.html https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/QuickStartEC2Instance.html https://stackoverflow.com/questions/40604940/cloudwatch-logs-acting-weird \uacc4\uc815 \uc0dd\uc131 IAM \uacc4\uc815\uc0dd\uc131 - \uc0ac\uc6a9\uc790 \uc774\ub984\uc744 \uc815\ud574\uc900 \ub4a4 \uc561\uc138\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c \ubd80\uc5ec \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd- \uc815\ucc45 \uc911 CloudWatchAgentServerPolicy \uc120\ud0dd \uacc4\uc815\uc0dd\uc131 \ud6c4 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4 \ud655\uc778","title":"2222222CLOUDWATCH LOG \uc218\uc9d1 \ub9e4\ub274\uc5bc"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#2222222cloudwatch-log","text":"","title":"2222222CLOUDWATCH LOG \uc218\uc9d1 \ub9e4\ub274\uc5bc"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#_1","text":"","title":"\uc0ac\uc804 \uc791\uc5c5"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#iam","text":"cloudwatch log\uc218\uc9d1\uc744 \uc704\ud574\uc11c\ub294 \uc11c\ubc84 \uc791\uc5c5\uacfc \ubcc4\ub3c4\ub85c IAM \uacc4\uc815\uc0dd\uc131\uacfc \uad8c\ud55c\ud560\ub2f9 \uc791\uc5c5\uc744 \uc120 \uc9c4\ud589\ud558\uc5ec\uc57c\ud558\uba70 \uc791\uc5c5\uc774 \uc644\ub8cc\ub41c \ud6c4 \uacc4\uc815\uc758 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4\ub97c \ubc1c\uae09 \ubc1b\ub294\ub2e4. \uacc4\uc815\uc0dd\uc131 \uacc4\uc815\uc0dd\uc131- \uacc4\uc815\uc774\ub984 \uc785\ub825- \uc561\uc11c\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c\uc124\uc815 \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd - CloudWatchAgentServerPolicy\uc815\ucc45 \ucd94\uac00 3. \ud0a4\ud655\uc778 \uc561\uc138\uc2a4 \ud0a4 \ud655\uc778 \ubc0f \ube44\ubc00\ud0a4 \ud655\uc778","title":"IAM \uacc4\uc815\uc0dd\uc131 \ubc0f \uad8c\ud55c \ubd80\uc5ec"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#_2","text":"","title":"\uc11c\ubc84 \uc791\uc5c5"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#_3","text":"awslogs \uc124\uce58\ub294 \ub2e4\uc74c \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc124\uce58 yum install -y awslogs aws configure\ub97c \ud1b5\ud55c IAM \ud0a4 \uc785\ub825 aws configure \uba85\ub839\uc5b4 \uc785\ub825 - \uc561\uc138\uc2a4\ud0a4 \uc694\uad6c \ubc0f\uc785\ub825 - \ube44\ubc00\ud0a4 \uc694\uad6c\ubc0f \uc785\ub825(\uc704 IAM\uacc4\uc815\uc758 \ud0a4 \uc785\ub825)","title":"\uc124\uce58 \uc791\uc5c5"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#_4","text":"/etc/awslogs/awscli.conf region = ap-northeast-2 \ucd94\uac00 \uc124\uc815\uc5c6\uc774 \ub9ac\uc804\ub9cc \ub85c\uadf8 \uc218\uc9d1\uc744 \uc704\ud55c \ub9ac\uc804\uc73c\ub85c \ubcc0\uacbd /etc/awslogs/awslog.conf \ud574\ub2f9 \ucee8\ud53c\uadf8 \ud30c\uc77c\uc758 \uc81c\uc77c \ud558\ub2e8\uc5d0 \ub85c\uadf8 \uc218\uc9d1 \ub300\uc0c1 \ub85c\uadf8\ub97c \uc544\ub798\uc758 \ud615\uc2dd\uc73c\ub85c \uc791\uc131 [/var/log/messages] \u2013 \uc218\uc9d1\ub85c\uadf8 \uacbd\ub85c\uc640 \ud30c\uc77c \uc9c0\uc815 datetime_format = %b %d %H:%M:%S (\ub85c\uadf8\uc758 \ub370\uc774\ud130 \ud3ec\ub9f7 \uc9c0\uc815) [^%Y]: year 1970, 1988, 2001, 2019 [^%p]: AM or PM [^%M]: minute 00, 01 \u2026 ,59 [^%S]: Second 00, 01, \u2026 ,59 [^%f]: Microsecond 000000, 000001, \u2026 ,999999 [^B]: \ub85c\uce98 \uc804\uccb4 \uc774\ub984 \ud615\ud0dc\uc758 \uc6d4. January, February, \u2026, December [^b]: \ub85c\uce98 \uc57d\uc5b4 \ud615\ud0dc\uc758 \uc6d4. Jan, Feb, \u2026, Dec file = /var/log/messages (\ub85c\uadf8 \ud30c\uc77c \uc704\uce58) buffer_duration = 5000 (\ub85c\uadf8 \uc774\ubca4\ud2b8\ub97c \uc77c\uad04 \ucc98\ub9ac\ud558\ub294 \uae30\uac04\uc744 \uc9c0\uc815\ud569\ub2c8\ub2e4. \ucd5c\uc18c\uac12\uc740 5000ms\uc774\uace0, \uae30\ubcf8\uac12\uc740 5000ms\uc785\ub2c8\ub2e4.) log_stream_name = {instance_id} (\ub300\uc0c1\ub85c\uadf8 \uc2a4\ud2b8\ub9bc \uc774\ub984 \uc9c0\uc815{instance_id}, {hostname}, {ip_address}) initial_position = start_of_file log_group_name = /var/log/messages(cloudwatch \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784 \uc9c0\uc815 ) time_zone=LOCAL multi_line_start_pattern ={datetime_format} (\ub85c\uadf8 \uc904 \ub2e8\uc704 \uae30\uc900\uc810. datetime_fomat \uba40\ud2f0\ub77c\uc778 \ucc98\ub9ac) /var/log/awslogs.log awslogs\uc11c\ube44\uc2a4 \uc2e4\ud589 \ud6c4 \ubc1c\uc0dd\ub418\ub294 \ub85c\uadf8.","title":"\uc124\uc815 \uad00\ub828"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#_5","text":"\uc2e4\ud589 \uba85\ub839\uc5b4 service awslogs start \ub9ac\ubd93\uc2dc \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d chkconfig awslogs on (amazon linux2 \uc778 \uacbd\uc6b0 systemctl enable awslogsd.service)","title":"\uc2e4\ud589 \ubc0f \uc790\ub3d9\uc2e4\ud589 \ub4f1\ub85d"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#cloudwatch","text":"\uc815\uc0c1\uc801\uc73c\ub85c \uc11c\ubc84\uc758 \ub85c\uadf8\uac00 \uc218\uc9d1\ub41c\ub2e4\uba74 cloudwatch - log\ud56d\ubaa9\uc5d0\uc11c \uc11c\ubc84\uc5d0\uc11c \uc9c0\uc815\ud55c \ub85c\uadf8 \uadf8\ub8f9\ub124\uc784\uc774 \ubcf4\uc774\uba70 \uc774\ub97c \ud074\ub9ad\uc2dc \uc11c\ubc84 \uc778\uc2a4\ud134\uc2a4 ID\ubcc4\ub85c \ub85c\uadf8 \uc218\uc9d1\ub418\ub294 \ub0b4\uc5ed \ud655\uc778 \uac00\ub2a5 \uc218\uc9d1\ub41c \ub370\uc774\ud130\ub294 \ub300\uc2dc\ubcf4\ub4dc\ub97c \ud1b5\ud574 \ub370\uc774\ud130\ub97c \ubcf4\uc5ec\uc8fc\ub294\uae30\ub2a5\uc740 \ubc14\ub85c \uac00\ub2a5\ud558\ub098 \uc774\ub97c \uac00\uc9c0\uace0 \uadf8\ub798\ud504\ub97c \ud1b5\ud55c \uc2dc\uac01\ud654\ub97c \ud560\uc218 \uc5c6\uc5b4 \uc9c0\ud45c\ub97c \ud1b5\ud55c \uadf8\ub798\ud504\ub97c \uc0dd\uc131\ud558\uc5ec\uc57c\ud568. cloudwatch -\ub85c\uadf8- \ub85c\uadf8\uadf8\ub8f9\uc911 \ud544\ud130\uae30\ub2a5\uc744 \uc4f8 \uc9c0\ud45c\uc120\ud0dd -\uc9c0\ud45c \ud544\ud130 \ud074\ub9ad \uc9c0\ud45c \ud544\ud130 \ucd94\uac00 \ubc84\ud2bc \ud074\ub9ad \ud544\ud130\ub9c1 \ud558\uace0\uc790\ud558\ub294 \uac12\uc744 \ub123\uace0 [\uc815\uaddc\uc2dd\uc9c0\uc6d0]\ud328\ud134 \ud14c\uc2a4\ud2b8 \ud6c4 \uc9c0\ud45c\ud560\ub2f9 \ud074\ub9ad \uc774\ud6c4 \uc9c0\ud45c \ub124\uc784\uc2a4\ud398\uc774\uc2a4\ub294 \ub85c\uadf8 \uadf8\ub8f9 \ub124\uc784 \uc911 \ucd94\ucd9c\ud558\uace0\uc790\ud558\ub294 \uc9c0\ud45c\uc601\uc5ed \uc9c0\ud45c\uc774\ub984\uc740 \ud574\ub2f9 \uc9c0\ud45c\ub97c \uc120\ud0dd cloudwatch - \uc9c0\ud45c \uc120\ud0dd - \ubaa8\ub4e0 \uc9c0\ud45c\uc5d0\uc11c \ub85c\uadf8 \uadf8\ub8f9 \ud544\ud130\ub97c \uc801\uc6a9\ud55c \ub85c\uadf8 \uadf8\ub8f9\uc758 incomingLogEvents\uc120\ud0dd \uadf8\ub798\ud504\ub85c \ud45c\uc2dc\ub41c \uc9c0\ud45c \ud0ed \uc120\ud0dd - \ud544\ud130\uac00 \uc801\uc6a9\ub41c \uadf8\ub798\ud504\uac00 \ub098\uc624\uba70 \uadf8\ub798\ud504\uc758 \uc791\uc5c5 \ub300\uc2dc\ubcf4\ub4dc \ucd94\uac00\ub97c \uc120\ud0dd\ud558\uc5ec \ub300\uc2dc\ubcf4\ub4dc\ub85c \uadf8\ub798\ud504 \ub4f1\ub85d","title":"cloudwatch \uc124\uc815"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#_6","text":"\ub85c\uadf8 \uc218\uc9d1\uc774 \ub418\uc9c0 \uc54a\uace0 awslogs.log\ud30c\uc77c\uc5d0 \uc544\ub798\uc640 \uac19\uc774 \ub85c\uadf8 \uac00 \ucc0d\ud788\ub294 \uacbd\uc6b0 \ucc98\ub9ac \ubc29\uc548 reason: timestamp is more than 2 hours in future. /var/lib/awslogs/agent-state\ub97c \uc0ad\uc81c \ud574\ub2f9 \ubc29\ubc95\uc73c\ub85c \ucc98\ub9ac\uc2dc \uc218\uc9d1\ub418\ub294 \ub85c\uadf8\uac00 \ucc98\uc74c\ubd80\ud130 \ub2e4\uc2dc \ub85c\uadf8\uac00 \uc218\uc9d1\ub429 sqlite3 \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 agent-state \uc624\ub958 \ucc98\ub9ac sudo sqlite3 /var/lib/awslogs/agent-state select * from stream_state; \ud1b5\ud574 \ubb38\uc81c\uac00 \ub418\ub294 \uc18c\uc2a4ID\ud655\uc778 select * from push_state where k=\u201d\ud655\uc778\ub41c \uc18c\uc2a4ID\u201d; update push_state set v=\u2019\u2026 insert new value here \u2026\u2019 where k=\u20187675f84405fcb8fe5b6bb14eaa0c4bfd\u2019; service awslogs restart","title":"\uc624\ub958 \ub300\ucc98 \ubc95"},{"location":"%ED%85%8C%EC%8A%A4%ED%8A%B8/#url","text":"https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/AgentReference.html https://docs.aws.amazon.com/ko_kr/AmazonCloudWatch/latest/logs/QuickStartEC2Instance.html https://stackoverflow.com/questions/40604940/cloudwatch-logs-acting-weird \uacc4\uc815 \uc0dd\uc131 IAM \uacc4\uc815\uc0dd\uc131 - \uc0ac\uc6a9\uc790 \uc774\ub984\uc744 \uc815\ud574\uc900 \ub4a4 \uc561\uc138\uc2a4 \uc720\ud615 Programmatic access \uc120\ud0dd \uad8c\ud55c \ubd80\uc5ec \uae30\uc874 \uc815\ucc45 \uc9c1\uc811 \uc5f0\uacb0 \uc120\ud0dd- \uc815\ucc45 \uc911 CloudWatchAgentServerPolicy \uc120\ud0dd \uacc4\uc815\uc0dd\uc131 \ud6c4 \uc561\uc138\uc2a4\ud0a4, \ube44\ubc00\ud0a4 \ud655\uc778","title":"\ucc38\uace0 URL"}]}