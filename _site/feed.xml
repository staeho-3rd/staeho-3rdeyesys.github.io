<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.7.2">Jekyll</generator><link href="https://docs.3rdeyesys.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://docs.3rdeyesys.com/" rel="alternate" type="text/html" /><updated>2021-11-11T18:34:42+09:00</updated><id>https://docs.3rdeyesys.com/feed.xml</id><title type="html">3rdeyesys</title><subtitle>써드아이시스템 기술문서</subtitle><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><entry><title type="html">PHP로 Archive Storage API 인증 토큰 생성하는 방법</title><link href="https://docs.3rdeyesys.com/4.storage/ncp_storage_archive_storage_api_access_token_create/" rel="alternate" type="text/html" title="PHP로 Archive Storage API 인증 토큰 생성하는 방법" /><published>2021-11-11T00:00:00+09:00</published><updated>2021-11-11T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/4.storage/ncp_storage_archive_storage_api_access_token_create</id><content type="html" xml:base="https://docs.3rdeyesys.com/4.storage/ncp_storage_archive_storage_api_access_token_create/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;네이버 클라우드(Ncloud) Archive Storage API를 이용하려고 할 때 먼저 인증 토큰을 생성하고 생성된 토큰을 이용해서 API로 Archive Storage에 접근해야 합니다. 
여기서는 PHP로 API 인증 토큰을 생성하는 방법에 대해 우선 전체 소스코드를 살펴보고 다음으로 주요 코드를 상세하게 살펴보겠습니다.&lt;/p&gt;

&lt;h2 id=&quot;api-정보&quot;&gt;API 정보&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;OpenStack Swift API : 2.15.1 (Pike)&lt;/li&gt;
  &lt;li&gt;OpenStack Keystone V3 API : v3.8&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;인증-토큰-생성-코드&quot;&gt;인증 토큰 생성 코드&lt;/h2&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// 전송해야 할 설정값&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$ncloud_accesskey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;네이버 클라우드 AccessKey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$ncloud_secretkey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;네이버 클라우드 SecretKey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$ncloud_domain_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Archive Storage 도메인 ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$ncloud_project_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Archive Storage 프로젝트 ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;nv&quot;&gt;$api_server&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://kr.archive.ncloudstorage.com:5000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$api_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/v3/auth/tokens&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;		 

  &lt;span class=&quot;c1&quot;&gt;// http 호출 헤더값 설정&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$http_header&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$http_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Content-Type: application/json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// 전송할 값들을 배열 형태로 저장한다&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$postvars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  	&lt;span class=&quot;s2&quot;&gt;&quot;auth&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  		&lt;span class=&quot;s2&quot;&gt;&quot;identity&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  			&lt;span class=&quot;s2&quot;&gt;&quot;methods&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  				&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;
  			&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  			&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  				&lt;span class=&quot;s2&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  					&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_accesskey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  					&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_secretkey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  					&lt;span class=&quot;s2&quot;&gt;&quot;domain&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  						&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_domain_id&lt;/span&gt;
  					&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  				&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  			&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  		&lt;span class=&quot;s2&quot;&gt;&quot;scope&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  			&lt;span class=&quot;s2&quot;&gt;&quot;project&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  				&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_project_id&lt;/span&gt;
  			&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// 배열 형태로 저장한 값들을 json 형태로 변환해서 전송&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$json_portvars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;json_encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$postvars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;nv&quot;&gt;$is_post&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// api 호출&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_URL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$api_server&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$api_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_SSL_VERIFYPEER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_RETURNTRANSFER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;	
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$is_post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_HTTPHEADER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$http_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_HEADER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//request에 header 값도 수신&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;CURLOPT_POSTFIELDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$json_portvars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;nb&quot;&gt;curl_close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  	&lt;span class=&quot;c1&quot;&gt;// X-Subject-Token 토큰 값은 request body가 아닌 header로 전달되므로&lt;/span&gt;
  	&lt;span class=&quot;c1&quot;&gt;// header를 분리해서 배열에 저장한다 &lt;/span&gt;
  	&lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  	&lt;span class=&quot;nv&quot;&gt;$header_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;strpos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

  	&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;explode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$header_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
  	&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  		   &lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http_code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  		   &lt;span class=&quot;k&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;explode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  		   &lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;c1&quot;&gt;// 인증 토큰 확인&lt;/span&gt;
  	&lt;span class=&quot;nv&quot;&gt;$x_auth_token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;X-Subject-Token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; 
  	&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$x_auth_token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  	&lt;span class=&quot;c1&quot;&gt;//var_dump($headers);&lt;/span&gt;
  	&lt;span class=&quot;c1&quot;&gt;//echo(&quot;&amp;lt;hr&amp;gt;&quot;);&lt;/span&gt;
  	&lt;span class=&quot;c1&quot;&gt;//var_dump($response);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; 
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  	&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Curl error: &quot;&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;코드-상세-설명&quot;&gt;코드 상세 설명&lt;/h2&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h4 id=&quot;네이버-클라우드-인증키&quot;&gt;네이버 클라우드 인증키&lt;/h4&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$ncloud_accesskey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;네이버 클라우드 AccessKey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$ncloud_secretkey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;네이버 클라우드 SecretKey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;네이버 클라우드 인증키는 [네이버 클라우드 포탈] -&amp;gt; [마이페이지] -&amp;gt; [계정관리] -&amp;gt; [인증키 관리] - [API 인증키 관리] 메뉴에서 Access Key ID와 Secret Key를 가져오셔야 하며, 아직 만들어진 Key가 없다면 새로 만드셔야 합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncloud_api_auth_key_create.png&quot; alt=&quot;네이버 클라우드 API 인증키 생성하기&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;archive-storage-api-이용-정보&quot;&gt;Archive Storage API 이용 정보&lt;/h4&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$ncloud_domain_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Archive Storage 도메인 ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$ncloud_project_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Archive Storage 프로젝트 ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Archive Storage API 이용을 위한 Domain ID와 Project ID는 [네이버 클라우드 포탈] - [Archive Storage]에서 [API 이용 정보 확인] 버튼을 클릭하면 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncloud_storage_archive_storage_api_access_token_create_01.png&quot; alt=&quot;네이버 클라우드 PHP로 Archive Storage API 인증 토큰 생성하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[API 이용 정보 확인] 창에서 Domain ID와 Project ID를 확인하고, PHP 소스코드에 입력합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncloud_storage_archive_storage_api_access_token_create_02.png&quot; alt=&quot;네이버 클라우드 PHP로 Archive Storage API 인증 토큰 생성하는 방법&quot; style=&quot;width:500px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;api-서버와-url-설정&quot;&gt;API 서버와 URL 설정&lt;/h4&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$api_server&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://kr.archive.ncloudstorage.com:5000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$api_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/v3/auth/tokens&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Archive Storage API 서버와 토큰 생성을 위한 URL 정보는 위와 같습니다.&lt;/p&gt;

&lt;h4 id=&quot;http-호출-header-값-설정&quot;&gt;HTTP 호출 header 값 설정&lt;/h4&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$http_header&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$http_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Content-Type: application/json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;HTTP header에는 json 형태로 호출한다는 것을 설정합니다.&lt;/p&gt;

&lt;h4 id=&quot;전송할-값-설정&quot;&gt;전송할 값 설정&lt;/h4&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;c1&quot;&gt;// 전송할 값들을 배열 형태로 저장&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$postvars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  	&lt;span class=&quot;s2&quot;&gt;&quot;auth&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  		&lt;span class=&quot;s2&quot;&gt;&quot;identity&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  			&lt;span class=&quot;s2&quot;&gt;&quot;methods&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  				&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;
  			&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  			&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  				&lt;span class=&quot;s2&quot;&gt;&quot;user&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  					&lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_accesskey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  					&lt;span class=&quot;s2&quot;&gt;&quot;password&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_secretkey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  					&lt;span class=&quot;s2&quot;&gt;&quot;domain&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  						&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_domain_id&lt;/span&gt;
  					&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  				&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  			&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
  		&lt;span class=&quot;s2&quot;&gt;&quot;scope&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  			&lt;span class=&quot;s2&quot;&gt;&quot;project&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
  				&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$ncloud_project_id&lt;/span&gt;
  			&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;// 배열 형태로 저장한 값들을 json 형태로 변환해서 전송&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$json_portvars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;json_encode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$postvars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;네이버 클라우드 AccessKey, SecretKey, Archive Storage 도메인 ID, 프로젝트 ID를 전송하기 위해 지정된 형태의 배열로 저장한 후에 json 형태로 변환합니다. 
물론 처음부터 json 형태로 저장해도 됩니다.&lt;/p&gt;

&lt;h4 id=&quot;api-호출&quot;&gt;API 호출&lt;/h4&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_URL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$api_server&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$api_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_SSL_VERIFYPEER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_RETURNTRANSFER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;	
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$is_post&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_HTTPHEADER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$http_header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_HEADER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//request에 header 값도 수신&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;CURLOPT_POSTFIELDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$json_portvars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  &lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;curl_close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;이제 위에서 준비한 값들을 사용해서 API를 호출합니다.&lt;br /&gt;
curl_setopt($ch, CURLOPT_HEADER, TRUE); 는 Request에 body 뿐만 아니라 header 값도 수신하기 위해 설정합니다.&lt;/p&gt;

&lt;h4 id=&quot;api-인증-토큰-분리&quot;&gt;API 인증 토큰 분리&lt;/h4&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  	&lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
  	&lt;span class=&quot;nv&quot;&gt;$header_text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;substr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;strpos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$response&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;

  	&lt;span class=&quot;k&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;explode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$header_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
  	&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  		   &lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http_code&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  		&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  		   &lt;span class=&quot;k&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;explode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;: &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
  		   &lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  	&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	
	&lt;span class=&quot;c1&quot;&gt;// 인증 토큰 확인&lt;/span&gt;
  	&lt;span class=&quot;nv&quot;&gt;$x_auth_token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;X-Subject-Token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt; 
  	&lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$x_auth_token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

  	&lt;span class=&quot;c1&quot;&gt;//var_dump($headers);&lt;/span&gt;
  	&lt;span class=&quot;c1&quot;&gt;//echo(&quot;&amp;lt;hr&amp;gt;&quot;);&lt;/span&gt;
  	&lt;span class=&quot;c1&quot;&gt;//var_dump($response);&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;API 인증 토큰값은 X-Subject-Token이라는 이름으로 request body가 아닌 header로 전달되므로 header를 분리해서 배열에 저장합니다.
실제 전송되는 header 값은 아래와 같은 형태입니다.&lt;/p&gt;
&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;HTTP/1.1 201 Created 
Date: Thu, 11 Nov 2021 07:59:32 GMT 
Server: Apache/2.4.6 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;CentOS&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; OpenSSL/1.0.2k-fips mod_wsgi/3.4 Python/2.7.5 
X-Subject-Token: gAAAAABhjM1lbeTW3Vq......중간 생략 ......txWYsWGrC1siPt8CE0rs_KgNMTQ 
Vary: X-Auth-Token 
x-openstack-request-id: req-1ce......중간 생략 ......a85eb5b 
Content-Length: 1762 
Content-Type: application/json
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;인증-토큰-유효-시간&quot;&gt;인증 토큰 유효 시간&lt;/h2&gt;
&lt;p&gt;API 인증 토큰의 유효 시간은 24시간이고 삭제 요청을 호출하면 삭제할 수 있습니다.&lt;/p&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;Archive Storage API 가이드
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://api.ncloud-docs.com/docs/common-archivestorageapi-archivestorageapi&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://api.ncloud-docs.com/docs/common-archivestorageapi-archivestorageapi&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;OpenStack Keystone V3 API 가이드
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://docs.openstack.org/api-ref/identity/v3/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.openstack.org/api-ref/identity/v3/&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-11-11&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 네이버 클라우드(Ncloud) Archive Storage API를 이용하려고 할 때 먼저 인증 토큰을 생성하고 생성된 토큰을 이용해서 API로 Archive Storage에 접근해야 합니다. 여기서는 PHP로 API 인증 토큰을 생성하는 방법에 대해 우선 전체 소스코드를 살펴보고 다음으로 주요 코드를 상세하게 살펴보겠습니다.</summary></entry><entry><title type="html">PHP로 텔레그램 비공개 채널에 메시지 전송하기</title><link href="https://docs.3rdeyesys.com/99.etc/ncp_etc_php_to_telegram_message_send/" rel="alternate" type="text/html" title="PHP로 텔레그램 비공개 채널에 메시지 전송하기" /><published>2021-11-10T00:00:00+09:00</published><updated>2021-11-10T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/99.etc/ncp_etc_php_to_telegram_message_send</id><content type="html" xml:base="https://docs.3rdeyesys.com/99.etc/ncp_etc_php_to_telegram_message_send/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;업무를 진행하다보면 서버나 서비스에 장애가 발생했을 때 즉시 알림을 받거나 서버 상태 모니터링이나 매출 등의 서비스 이용 지표 등을 매일 자동으로 통보 받는 경우가 있습니다. 
예전에는 이메일이나 SMS 메시지로 받는 경우가 대부분이었는데, 요즘은 관련된 사람들이 함께 들어와 있는 메신저 채팅방으로 알림을 동시에 받는 경우도 많아지고 있습니다.&lt;br /&gt;
그럴 때 사용하는 방법 중에서 여기서는 텔레그램(Telegram)의 대화방인 비공개 채널에 메시지를 전송하는 것을 PHP로 구현해보겠습니다.&lt;/p&gt;

&lt;h2 id=&quot;구현-순서&quot;&gt;구현 순서&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;텔레그램 채팅 봇을 생성&lt;/li&gt;
  &lt;li&gt;텔레그램 채널을 비공개로 생성&lt;/li&gt;
  &lt;li&gt;비공개 채널에 위에서 생성한 채팅 봇을 관리자로 등록&lt;/li&gt;
  &lt;li&gt;PHP로 채팅 봇을 이용해 비공개 채널에 메시지를 전송&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;채팅-봇-생성&quot;&gt;채팅 봇 생성&lt;/h2&gt;
&lt;p&gt;텔레그램(Telegram) 메신저에서 채팅 봇을 생성하고 관리해주는 봇인 [&lt;strong&gt;BotFather&lt;/strong&gt;]를 검색합니다. 
여러 개의 봇들이 나타나는데 그 중에서 인증 마크가 붙어 있는 텔레그램 공식 봇을 선하고 채팅 방에  들어갑니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_01.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[BotFather] 채팅 봇 방에 들어가면 채팅 봇에 대한 설명과 봇 API 매뉴얼 링크를 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_02.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:642px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이제 채팅 봇 생성을 위해 &lt;strong&gt;/start&lt;/strong&gt; 명령을 입력하면 아래와 같이 채팅 봇 생성, 관리에 대한 명령어들을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_03.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:637px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 새로운 채팅 봇을 생성하는 명령어인 &lt;strong&gt;/newbot&lt;/strong&gt;을 입력하면, 채팅 봇 이름과 채팅 봇 유저명을 입력하라는 안내가 나옵니다. 
차례대로 입력하면 되는데, 여기서 입력하는 이름을 텔레그램 내에서 고유한 값이므로 간단한 이름을 입력하면 중복된 이름이라 생성이 되지 않으니 자신만의 고유한 이름을 입력합니다.&lt;/p&gt;

&lt;p&gt;그리고 두번째로 입력하는 &lt;strong&gt;채팅 봇 유저명(username for your bot)은 반드시 마지막이 bot&lt;/strong&gt;로 끝나야 합니다. 
두가지 모두 입력하고 나면 아래쪽에 채팅 봇과 연동하기 위한 API Token을 확인할 수 있는데, 이 Token을 PHP에서 사용하게 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_04.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:637px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;채팅 봇이 생성되었는지 텔레그램에서 검색해보면 아래와 같이 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_05.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;채널-생성&quot;&gt;채널 생성&lt;/h2&gt;
&lt;p&gt;채널을 생성하기 위해 텔레그램 왼쪽 메뉴를 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_06.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;메뉴 화면에서 [채널 만들기]를 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_07.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;원하는 채널명을 입력하고, 만들기를 클릭하면, 공개-비공개를 선택할 수 있는데 여기서는 [비공개 채널]을 선택하고 저장합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_08.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;저장하고 나면 다음으로 [참가자 추가] 화면이 나타나는데 위에서 생성했던 채팅 봇 이름을 입력해서 확인하고, 선택 후에 [추가] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_10.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그러면 아래와 같이 [봇은 관리자로서만 추가될 수 있습니다]라는 메시지가 나타납니다. 바로 [관리자로 세우기] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_12.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;관리자의 권한은 여러가지가 있는데 원하는 권한을 부여하고 [저장] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_13.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;채팅-방-id-확인&quot;&gt;채팅 방 ID 확인&lt;/h2&gt;
&lt;p&gt;메시지를 전송하기 위해서는 현재 생성된 비공개 채널의 chat_id를 확인해야 합니다.&lt;br /&gt;
우선, 채널에서 아무 메시지나 입력합니다. (&lt;strong&gt;꼭 하셔야 합니다&lt;/strong&gt;)&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_14.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 웹브라우저에서 다음 주소를 입력합니다.  주소에는 위에서 확인했던 API Token이 들어갑니다.&lt;/p&gt;

&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;https://api.telegram.org/bot[API Token]/getUpdates

# 예시
https://api.telegram.org/bot123456789:JFDS89FMJK8932-MKJE8FNBH3289I/getUpdates
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;
입력하면 나타나면 결과에서 “chat” : {“id” : -12586498, ….} 와 같은 형식의 &lt;strong&gt;id&lt;/strong&gt; 값을 복사합니다. 이 값이 바로 비공개 채널의 chat_id 입니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_15.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;메시지-전송-코드-작성&quot;&gt;메시지 전송 코드 작성&lt;/h2&gt;
&lt;p&gt;마지막으로 메시지를 전송하는 PHP 코드를 작성해보겠습니다.&lt;br /&gt;
위에서 구했던 [API Token], [chat_id]를 아래 코드에 입력하고 실행하면 됩니다.&lt;/p&gt;
&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;php_to_telegram_msg_send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
  &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$api_token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;API Token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$chat_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;채팅방 ID&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$api_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://api.telegram.org/bot&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$api_token&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/sendMessage&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$post_vars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;chat_id=&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$chat_id&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;text=&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;urlencode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$content_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Content-Type: application/x-www-form-urlencoded&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_init&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_URL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$api_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_HEADER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_RETURNTRANSFER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_SSL_VERIFYPEER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_TIMEOUT&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_HTTPHEADER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$content_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;curl_setopt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CURLOPT_POSTFIELDS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$post_vars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nv&quot;&gt;$return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;curl_exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;nb&quot;&gt;curl_close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$ch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;


  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;		
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;메시지 테스트&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

  &lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;php_to_telegram_msg_send&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;	
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;
위 코드를 실행하면 아래와 같이 비공개 채널에 메시지가 도착한 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_16.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;메시지-스타일-적용&quot;&gt;메시지 스타일 적용&lt;/h2&gt;
&lt;p&gt;텔레그램 채팅 봇 API는 메시지에 bold, underline 등의 몇가지 html 스타일을 지원합니다.&lt;br /&gt;
html 스타일을 적용하기 위해서는 전송 파라미터에 &lt;strong&gt;parse_mode=html&lt;/strong&gt;을 추가해야 합니다.&lt;br /&gt;
그러면 위 전송 코드 중에서 변경해야 하는 코드만 정리해보겠습니다.&lt;/p&gt;

&lt;div class=&quot;language-php highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;

  &lt;span class=&quot;cm&quot;&gt;/* 전송 파라미터에 parse_mode=html을 추가합니다. */&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$post_vars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;chat_id=&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$chat_id&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;text=&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;urlencode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;parse_mode=html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;		

  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;b&amp;gt;bold&amp;lt;/b&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;i&amp;gt;italic&amp;lt;/i&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;code&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;now_date = date('Y-m-d');&amp;lt;/code&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;s&amp;gt;strike&amp;lt;/s&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;u&amp;gt;underline&amp;lt;/u&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;pre language='php'&amp;gt;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\$&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;now_date = date('Y-m-d');&amp;lt;/pre&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;email@test.com&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tgm_msg&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;pre&amp;gt;email@test.com&amp;lt;/pre&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;mf&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\r\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;
위 코드처럼 스타일을 적용하고 실행하면 아래와 같이 표시됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/etc_php_to_telegram_msg_send_17.png&quot; alt=&quot;PHP로 텔레그램(Telegram) 비공개 채널에 메시지 전송하는 방법&quot; style=&quot;width:632px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;텔레그램 채팅 봇 안내
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://core.telegram.org/bots/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://core.telegram.org/bots/&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;텔레그램 채팅 봇 API 가이드
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://core.telegram.org/bots/api/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://core.telegram.org/bots/api/&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;텔레그램 채팅 봇 API 메시지 스타일 가이드
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://core.telegram.org/api/entities/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://core.telegram.org/api/entities/&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-11-10&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 업무를 진행하다보면 서버나 서비스에 장애가 발생했을 때 즉시 알림을 받거나 서버 상태 모니터링이나 매출 등의 서비스 이용 지표 등을 매일 자동으로 통보 받는 경우가 있습니다. 예전에는 이메일이나 SMS 메시지로 받는 경우가 대부분이었는데, 요즘은 관련된 사람들이 함께 들어와 있는 메신저 채팅방으로 알림을 동시에 받는 경우도 많아지고 있습니다. 그럴 때 사용하는 방법 중에서 여기서는 텔레그램(Telegram)의 대화방인 비공개 채널에 메시지를 전송하는 것을 PHP로 구현해보겠습니다.</summary></entry><entry><title type="html">VPC 환경에서 SSL VPN 설정하고 접속하는 방법</title><link href="https://docs.3rdeyesys.com/3.security/ncp_security_ssl_vpn_vpc_guide/" rel="alternate" type="text/html" title="VPC 환경에서 SSL VPN 설정하고 접속하는 방법" /><published>2021-11-02T00:00:00+09:00</published><updated>2021-11-02T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/3.security/ncp_security_ssl_vpn_vpc_guide</id><content type="html" xml:base="https://docs.3rdeyesys.com/3.security/ncp_security_ssl_vpn_vpc_guide/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;Ncloud(네이버 클라우드) 외부에서 내부에 구성된 네트워크로 암호화된 보안 접속 통신을 제공하는 서비스인 SSL VPN을 VPC 환경에서 설정하고, 서버에 접속하는 방법에 대해 정리해보겠습니다.&lt;/p&gt;

&lt;h2 id=&quot;ssl-vpn이란&quot;&gt;SSL VPN이란?&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;VPN은 가상 사설망(Virtual Private Network)의 약자로, 외부에서 접근할 수 없는 사설망에 내 PC나 네트워크를 연결시키는 방법을 말합니다.&lt;/li&gt;
  &lt;li&gt;사설망과의 연결은 가상 터널을 통해 이루어지며, 이 가상 터널을 SSL 암호화로 보호하는 것이 SSL VPN입니다.&lt;/li&gt;
  &lt;li&gt;가상 터널을 통해 사설망과 연결된 사용자 PC는 사설망의 라우팅 및 ACL 정책에 따라 내부 서버에 접근할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ssl-vpn-생성-요청&quot;&gt;SSL VPN 생성 요청&lt;/h2&gt;
&lt;p&gt;[SSL VPN 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_01.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;우선 접근할 서버가 속해 있는 VPC를 선택하고, 등록 가능한 접속 ID 개수에 따른 상품을 선택합니다.&lt;br /&gt;
VPC 환경에서는 3, 5, 10, 20, 30, 50, 100, 200, 300, 400, 500개 상품 중에서 선택 가능합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_07.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:700px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;VPC 환경의 SSL VPN은 콘솔에서 자동으로 생성하는 것이 아니라 &lt;strong&gt;생성 요청을 하면 Ncloud 담당자가 직접 생성하고 결과를 안내 받는 구조&lt;/strong&gt;로 되어 있습니다. 
생성 완료까지 걸리는 기간은 &lt;strong&gt;업무일 기준 2~3일&lt;/strong&gt; 정도이며, 생성이 완료되면 SSL VPN 상태가 [운영중]으로 변경되고, 안내 메일이 도착합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_03.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:500px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;아래와 같이 생성 요청을 하고 나면 상태가 [생성중] 상태로 표시 됩니다. 2~3일 후 생성 완료 안내 메일이 도착할때까지 기다리시면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_04.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ssl-vpn-생성-완료&quot;&gt;SSL VPN 생성 완료&lt;/h2&gt;
&lt;p&gt;SSL VPN 생성이 완료되면 아래와 같은 메일을 받을 수 있습니다. &lt;br /&gt;
메일 내용에는 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;] 정보와 접속 경로 정보가 포함되어 있으니 잘 확인해야 합니다.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;특히 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;] 정보는 Ncloud 콘솔에서 확인할 수 없고, 오로지 생성 완료 메일에서만 확인 가능하니 잘 보관해야 합니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_05.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:700px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;생성 완료 메일 확인 후에 콘솔에 접속하면 아래와 같이 [운영중] 으로 상태 메시지가 바뀐 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_06.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;사용자-설정&quot;&gt;사용자 설정&lt;/h2&gt;
&lt;p&gt;SSL VPN에 접속할 사용자 정보를 설정합니다.  리스트에서 SSL VPN을 선택하고 [사용자 설정] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_08.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;사용자 정보는 ID, Passowrd, Email, SMS 등을 입력하고 [추가] 버튼을 클릭합니다.&lt;br /&gt;
VPC 환경은 Classic 환경과 달리 이차인증이 필수이므로  SMS와 Email 정보를 함께 입력합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_09.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;사용자가 추가되면 SSL VPN 정보에 사용자 계정 수(등록된 ID 수)에 숫자가 표시되는 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_10.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;route-table-설정&quot;&gt;Route Table 설정&lt;/h2&gt;
&lt;p&gt;네트워크 설정에서는 우선 접속할 서버가 속해 있는 VPC Subnet의 Route Table에 SSL VPN으로 접근할 수 있게 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]을 등록해야 합니다.&lt;br /&gt;
아래와 같이 접속할 서버의 상세정보에서 VPC와 Subnet을 확인합니다. 여기서는 Private Subnet에 생성한 서버에 접속할 예정입니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_11.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[VPC] - [Route Table]에서 해당 VPC의 Private Subnet을 선택하고 [Routes 설정] 버튼을 클릭합니다.&lt;br /&gt;
Public Subnet에 생성한 서버에 접근해야 할 경우에는 public-table을 선택하고 설정하시면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_12.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[Destination]에 SSL VPN 생성 완료 메일에서 확인한 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;] 정보를 등록하고, [Target Type]은 SSLVPN을 선택, [Target Name]은 위에서 생성한 SSL VPN 이름을 선택하고 [생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_13.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;acg-설정&quot;&gt;ACG 설정&lt;/h2&gt;
&lt;p&gt;다음으로 서버에 적용된 ACG에 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]을 등록해야 합니다.&lt;br /&gt;
우선 SSL VPN을 통해서 접속할 서버를 선택하고 [ACG 수정] 버튼을 클릭해서 적용된 ACG를 확인합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_14.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ACG 수정 화면에서 현재 적용된 ACG 이름을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_15.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[Server] - [ACG]에서 위에서 확인한 ACG를 선택하고 [ACG 설정]을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_16.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ACG 규칙 설정 화면에서 위에서 확인했던 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]을 접근 소스에 입력하고, 필요한 포트들을 등록합니다. 
기본이 되는 프로토콜과 포트는 리눅스 서버 접속용 TCP 22, 윈도우 서버 접속용 TCP 3389, Ping 확인용 ICMP 등입니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_17.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;agent-다운로드&quot;&gt;Agent 다운로드&lt;/h2&gt;
&lt;p&gt;SSL VPN 접속을 위한 Agent를 다운로드 합니다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/security-5-1-windowsdownload&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;윈도우 용 다운로드&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/security-5-1-macdownload&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;맥 용 다운로드&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_11.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;agent-접속&quot;&gt;Agent 접속&lt;/h2&gt;
&lt;p&gt;Agent 프로그램, BIG-IP Edge Client를 설치하고 실행하면 다음과 같은 화면을 볼 수 있습니다.&lt;br /&gt;
Agent에는 Classic 환경 SSL VPN 서버(Ncloud-kr-01)가 기본으로 설정되어 있는데, VPC 환경 SSL VPN 서버 주소로 바꾸기 위해 [연결끊기] 클릭해서 연결을 끊고, [서버 변경] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_18.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:557px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;서버 선택 창에 &lt;strong&gt;https://sslvpn-kr-vpc-01.ncloud.com&lt;/strong&gt; 주소를 입력합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_19.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:557px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;주소 변경 후에 [연결] 버튼을 클릭하면 로그인 화면이 나타나는데 위에서 설정했던 VPN 접속용 아이디와 Password를 입력하고 [로그온] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_20.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:650px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그리고 도착한 OTP 인증 번호를 입력합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_21.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:650px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;SSL VPN에 제대로 연결이 되었는지 확인하기 위해서 cmd 창을 띄워서 ipconfig 명령어를 입력하면 아래 화면처럼 SSL VPN 주소로 설정된 어탭터에  [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]에 해당하는 IP가 할당된 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_22.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;서버-접속&quot;&gt;서버 접속&lt;/h2&gt;
&lt;p&gt;이제 SSL VPN이 연결된 상태에서 서버에 접속해보겠습니다.&lt;br /&gt;
PuTTY 를 실행하고 접속할 서버의 IP를 입력합니다.&lt;br /&gt;
이때 서버 IP는 콘솔에 있는 서버 정보에서 &lt;strong&gt;비공인 IP&lt;/strong&gt;에 표시되는 IP를 입력하면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_23.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;agent-기타-설정&quot;&gt;Agent 기타 설정&lt;/h2&gt;
&lt;p&gt;SSL VPN Agent에는 몇가지 추가 기능이 있는데 아래에서 확인해보겠습니다.&lt;/p&gt;

&lt;h4 id=&quot;트래픽-그래프&quot;&gt;트래픽 그래프&lt;/h4&gt;
&lt;p&gt;Agent 창에서 [그래프 보기] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_24.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:557px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;여기서는 SSL VPN이 연결된 상태의 트래픽을 그래프로 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_25.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:557px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 [상세 보기] 버튼을 클릭하면 접속 세부 정보, 로그, 통계, 알림, 라우팅 테이블, IP설정 등의 정보를 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_26.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;스펙-변경&quot;&gt;스펙 변경&lt;/h2&gt;
&lt;p&gt;처음에 설정한 접속 가능 ID 개수를 변경하고 싶을 경우 SSL VPN을 선택하고 [스펙 변경] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_27.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;3, 5, 10, 20, 30, 50, 100, 200, 300, 400, 500개 상품 중에서 원하는 개수로 변경할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_28.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;주의사항&quot;&gt;주의사항&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;SSL VPN이 연결된 상태에서 새로운 서버를 생성하고 접속을 시도하면 아래와 같은 오류 메시지가 뜨면서 서버 접속이 되지 않습니다.  이때는 SSL VPN의 연결을 끊었다가 다시 연결해야 새로 생성한 서버에 접속할 수 있습니다.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_23.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:700px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;삭제&quot;&gt;삭제&lt;/h2&gt;
&lt;p&gt;삭제를 원할 경우 SSL VPN을 선택하고 상단의 [삭제] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_29.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;하지만, 바로 삭제가 되지 않고 다음과 같이 “Route Table에서 Target으로 지정된 Route 정보를 모두 삭제해야 삭제가 가능합니다”라는 메시지가 뜹니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_30.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:500px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[VPC] - [Route Table]에서 해당 VPC의 Private Subnet을 선택하고 [Routes 설정] 버튼을 클릭해서 등록된 설정을 확인하고 [X] 버튼을 클릭해서 설정을 삭제합니다. 
Route Table 정보를 삭제한 후에 SSL VPN을 삭제하시면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_vpc_guide_31.png&quot; alt=&quot;Ncloud(네이버 클라우드) VPC 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;SSL VPN 사용 가이드(VPC)
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/security-security-5-2&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/security-security-5-2&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;SSL VPN 요금
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.ncloud.com/product/security/sslVpn&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.ncloud.com/product/security/sslVpn&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-11-02&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 Ncloud(네이버 클라우드) 외부에서 내부에 구성된 네트워크로 암호화된 보안 접속 통신을 제공하는 서비스인 SSL VPN을 VPC 환경에서 설정하고, 서버에 접속하는 방법에 대해 정리해보겠습니다.</summary></entry><entry><title type="html">Classic 환경에서 SSL VPN 설정하고 접속하는 방법</title><link href="https://docs.3rdeyesys.com/3.security/ncp_security_ssl_vpn_classic_guide/" rel="alternate" type="text/html" title="Classic 환경에서 SSL VPN 설정하고 접속하는 방법" /><published>2021-10-27T00:00:00+09:00</published><updated>2021-10-27T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/3.security/ncp_security_ssl_vpn_classic_guide</id><content type="html" xml:base="https://docs.3rdeyesys.com/3.security/ncp_security_ssl_vpn_classic_guide/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;Ncloud(네이버 클라우드) 외부에서 내부에 구성된 네트워크로 암호화된 보안 접속 통신을 제공하는 서비스인 SSL VPN을 Classic 환경에서 설정하고, 서버에 접속하는 방법에 대해 정리해보겠습니다.&lt;/p&gt;

&lt;h2 id=&quot;ssl-vpn이란&quot;&gt;SSL VPN이란?&lt;/h2&gt;
&lt;ul&gt;
  &lt;li&gt;VPN은 가상 사설망(Virtual Private Network)의 약자로, 외부에서 접근할 수 없는 사설망에 내 PC나 네트워크를 연결시키는 방법을 말합니다.&lt;/li&gt;
  &lt;li&gt;사설망과의 연결은 가상 터널을 통해 이루어지며, 이 가상 터널을 SSL 암호화로 보호하는 것이 SSL VPN입니다.&lt;/li&gt;
  &lt;li&gt;가상 터널을 통해 사설망과 연결된 사용자 PC는 사설망의 라우팅 및 ACL 정책에 따라 내부 서버에 접근할 수 있습니다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ssl-vpn-생성&quot;&gt;SSL VPN 생성&lt;/h2&gt;
&lt;p&gt;[SSL VPN 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_01.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;우선 등록 가능한 접속 ID 개수에 따른 상품을 선택합니다. Classic 환경에서는 3개, 5개, 10개 상품만 선택 가능합니다. 
다음으로 인증 방식은 ID/PW 만으로 접속하는 일차인증과 OTP까지 사용하는 이차 인증 중에서 원하는 방식을 선택합니다. 
그리고 이차인증을 선택했을 경우에는 SMS와 Email 어떤 것을 이용할 것인지도 선택하게 됩니다.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;인증방식과 OTP 전송 방식은 SSL VPN 생성 시에 한번 선택하면 변경할 수 없으니 주의해야 합니다. 만약 변경을 하고 싶을 경우에는 SSL VPN을 새로 생성해야 합니다.
Classic 환경에서는 이차인증을 선택하면 별도의 이용요금이 부과됩니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_02.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 개인정보 수집 및 이용에 동의해야 합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_03.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:700px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;SSL VPN이 생성되면 다음과 같이 리스트에 서 확인 가능하며 여기서 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]은 뒤쪽에서 네트워크 접근 제한을 설정할 때 필요한 중요한 정보입니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_04.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;사용자-설정&quot;&gt;사용자 설정&lt;/h2&gt;
&lt;p&gt;SSL VPN에 접속할 사용자 정보를 설정합니다.  리스트에서 SSL VPN을 선택하고 [사용자 설정] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_05.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;사용자 정보는 ID, Passowrd, Email, SMS 등을 입력하고 [추가] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_06.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;사용자가 추가되면 SSL VPN 정보에 사용자 계정 수(등록된 ID 수)에 숫자가 표시되는 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_07.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;acg-설정&quot;&gt;ACG 설정&lt;/h2&gt;
&lt;p&gt;SSL VPN을 사용하려면 서버에 적용된 ACG에 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]을 등록해야 합니다.&lt;br /&gt;
우선 SSL VPN을 통해서 접속할 서버를 선택하고 적용된 ACG를 확인합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_08.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[Server] - [ACG]에서 위에서 확인한 ACG를 선택하고 [ACG 설정]을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_09.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ACG 규칙 설정 화면에서 위에서 확인했던 [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]을 접근 소스에 입력하고, 필요한 포트들을 등록합니다. 
기본이 되는 프로토콜과 포트는 리눅스 서버 접속용 TCP 22, 윈도우 서버 접속용 TCP 3389, Ping 확인용 ICMP 등입니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_10.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;agent-다운로드&quot;&gt;Agent 다운로드&lt;/h2&gt;
&lt;p&gt;SSL VPN 접속을 위한 Agent를 다운로드 합니다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/security-5-1-windowsdownload&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;윈도우 용 다운로드&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/security-5-1-macdownload&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;맥 용 다운로드&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_11.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;agent-접속&quot;&gt;Agent 접속&lt;/h2&gt;
&lt;p&gt;Agent 프로그램, BIG-IP Edge Client를 설치하고 실행하면 다음과 같은 화면을 볼 수 있습니다.&lt;br /&gt;
Agent에는 Classic 환경 SSL VPN 서버(Ncloud-kr-01)가 기본으로 설정되어 있는데, 혹시 빠져 있다면 [서버 변경] 버튼을 클릭해서 &lt;strong&gt;https://sslvpn-kr-01.ncloud.com&lt;/strong&gt;을 입력하고 연결 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_12.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:557px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;위에서 설정했던 VPN 접속용 아이디와 Password를 입력하고 [로그온] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_13.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:650px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;OTP 접속도 설정했다면 도착한 인증 번호를 입력합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_14.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:650px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;SSL VPN에 제대로 연결이 되었는지 확인하기 위해서 cmd 창을 띄워서 ipconfig 명령어를 입력하면 아래 화면처럼 SSL VPN 주소로 설정된 어탭터에  [&lt;strong&gt;SSL VPN IP POOL&lt;/strong&gt;]에 해당하는 IP가 할당된 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_15.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;서버-접속&quot;&gt;서버 접속&lt;/h2&gt;
&lt;p&gt;이제 SSL VPN이 연결된 상태에서 서버에 접속해보겠습니다.&lt;br /&gt;
PuTTY 를 실행하고 접속할 서버의 IP를 입력합니다.&lt;br /&gt;
이때 서버 IP는 콘솔에 있는 서버 정보에서 &lt;strong&gt;비공인 IP&lt;/strong&gt;에 표시되는 IP를 입력하면 됩니다.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;이때 혹시나 포트 포워딩이나 공인 IP를 설정하고 그 IP를 입력하는 일이 없도록 주의해야 합니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_16.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;agent-기타-설정&quot;&gt;Agent 기타 설정&lt;/h2&gt;
&lt;p&gt;SSL VPN Agent에는 몇가지 추가 기능이 있는데 아래에서 확인해보겠습니다.&lt;/p&gt;

&lt;h4 id=&quot;트래픽-그래프&quot;&gt;트래픽 그래프&lt;/h4&gt;
&lt;p&gt;Agent 창에서 [그래프 보기] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_17.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:557px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;여기서는 SSL VPN이 연결된 상태의 트래픽을 그래프로 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_18.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:560px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 [상세 보기] 버튼을 클릭하면 접속 세부 정보, 로그, 통계, 알림, 라우팅 테이블, IP설정 등의 정보를 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_19.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;스펙-변경&quot;&gt;스펙 변경&lt;/h2&gt;
&lt;p&gt;처음에 설정한 접속 가능 ID 개수를 변경하고 싶을 경우 SSL VPN을 선택하고 [스펙 변경] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_20.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;3개, 5개, 10개 상품 중에서 원하는 개수로 변경할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_21.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;주의사항&quot;&gt;주의사항&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;SSL VPN이 연결된 상태에서 새로운 서버를 생성하고 접속을 시도하면 아래와 같은 오류 메시지가 뜨면서 서버 접속이 되지 않습니다.  이때는 SSL VPN의 연결을 끊었다가 다시 연결해야 새로 생성한 서버에 접속할 수 있습니다.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_23.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:700px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;삭제&quot;&gt;삭제&lt;/h2&gt;
&lt;p&gt;삭제를 원할 경우 SSL VPN을 선택하고 상단의 [삭제] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_security_ssl_vpn_classic_guide_22.png&quot; alt=&quot;Ncloud(네이버 클라우드) Classic 환경에서 SSL VPN 설정하고 접속하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;SSL VPN 사용 가이드(Classic)
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/security-security-5-1&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/security-security-5-1&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;SSL VPN 요금
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.ncloud.com/product/security/sslVpn&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.ncloud.com/product/security/sslVpn&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-10-28&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 Ncloud(네이버 클라우드) 외부에서 내부에 구성된 네트워크로 암호화된 보안 접속 통신을 제공하는 서비스인 SSL VPN을 Classic 환경에서 설정하고, 서버에 접속하는 방법에 대해 정리해보겠습니다.</summary></entry><entry><title type="html">외부 네트워크에 연결할 수 없는 환경에서 Repository를 변경해 리눅스 패키지 설치하기</title><link href="https://docs.3rdeyesys.com/1.compute/ncp_server_repository_change_on_private_network/" rel="alternate" type="text/html" title="외부 네트워크에 연결할 수 없는 환경에서 Repository를 변경해 리눅스 패키지 설치하기" /><published>2021-10-20T00:00:00+09:00</published><updated>2021-10-20T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/1.compute/ncp_server_repository_change_on_private_network</id><content type="html" xml:base="https://docs.3rdeyesys.com/1.compute/ncp_server_repository_change_on_private_network/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;Ncloud(네이버 클라우드) Secure Zone이나 VPC 환경의 Private Network처럼 외부와 통신이 단절된 환경에서 
리눅스 패키지를 설치해야 할 때 repository 경로를 네이버 클라우드 내부 repository로 바꾸면 문제없이 패키지 설치를 할 수 있습니다. 
여기서는 OS별로, Classic/VPC 환경별로 변경하는 방법을 정리해보겠습니다.&lt;/p&gt;

&lt;h2 id=&quot;centos&quot;&gt;CentOS&lt;/h2&gt;

&lt;p&gt;CentOS는 /etc/yum.repos.d/CentOS-Base.repo 를 열어보면 아래 repository주소를 확인할 수 있습니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;~# vi /etc/yum.repos.d/CentOS-Base.repo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h4 id=&quot;classic-환경---centos&quot;&gt;Classic 환경 - CentOS&lt;/h4&gt;
&lt;p&gt;네이버 클라우드 Classic 환경 CentOS에서 repository 주소는 미러 사이트가 기본으로 설정 되어 있는 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_01.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;하지만 현재 서버는 Secure Zone 등 외부와 통신이 되지 않는 상태이므로 이대로는 패키지 설치를 할 수 없습니다.
이때 네이버 클라우드 내부 repository ( &lt;strong&gt;mirror.ncloud.com&lt;/strong&gt; )로 접속하도록 mirrorlist를 주석처리하고, baseurl을 주석해제하고, 경로를 수정해주면 됩니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;## 원본&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;mirrorlist&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://mirrorlist.centos.org/?release&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$releaserver&lt;/span&gt;&amp;amp;arch&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$basearch&lt;/span&gt;....
&lt;span class=&quot;c&quot;&gt;#baseurl=http://mirror.centos.org/centos/$releaserver/extras/$basearch/&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;## 수정&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#mirrorlist=http://mirrorlist.centos.org/?release=$releaserver&amp;amp;arch=$basearch....&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;baseurl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://mirror.ncloud.com/centos/&lt;span class=&quot;nv&quot;&gt;$releaserver&lt;/span&gt;/extras/&lt;span class=&quot;nv&quot;&gt;$basearch&lt;/span&gt;/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_03.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;변경 후 패키지 설치 테스트를 해봅니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;~# yum &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;httpd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;웹서버 설치가 문제없이 되는 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_04.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;sed-명령어-사용&quot;&gt;sed 명령어 사용&lt;/h4&gt;
&lt;p&gt;sed 명령어를 사용하면 더욱 편하게 변경할 수 있습니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;## mirrorlist 주석처리&lt;/span&gt;
~# &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/mirrorlist=/#mirrorlist=/g'&lt;/span&gt; /etc/yum.repos.d/CentOS-Base.repo

&lt;span class=&quot;c&quot;&gt;## baseurl 주석해제, 경로수정&lt;/span&gt;
~# &lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/#baseurl=http:\/\/mirror.centos.org\/centos/baseurl=http:\/\/mirror.ncloud.com\/centos/g'&lt;/span&gt; /etc/yum.repos.d/CentOS-Base.repo
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;h4 id=&quot;vpc-환경---centos&quot;&gt;VPC 환경 - CentOS&lt;/h4&gt;
&lt;p&gt;네이버 클라우드 VPC 환경은 이미 repository 경로가 네이버 클라우드 내부 repository ( &lt;strong&gt;mirror.ncloud.com&lt;/strong&gt; )로 설정되어 있으므로 별도로 수정할 필요가 없습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_10.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;ubuntu&quot;&gt;Ubuntu&lt;/h2&gt;

&lt;p&gt;Ubuntu는 /etc/apt/sources.list 에서 repository list 를  확인할 수 있습니다.&lt;br /&gt;
다만, 기본 미러사이트 주소가 Classic, VPC 두 환경이 다르게 설정되어 있습니다.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Classic :  &lt;strong&gt;kr.archive.ubuntu.com&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;VPC : &lt;strong&gt;archive.ubuntu.com&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;~# vi /etc/apt/sources.list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h4 id=&quot;classic-환경---ubuntu&quot;&gt;Classic 환경 - Ubuntu&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_05.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;vpc-환경---ubuntu&quot;&gt;VPC 환경 - Ubuntu&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_11.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;현재 서버는 Secure Zone 또는 Private Network  등 외부와 통신이 되지 않는 상태이므로 이대로는 패키지 설치를 할 수 없습니다.
이때 네이버 클라우드 내부 repository ( &lt;strong&gt;mirror.ncloud.com&lt;/strong&gt; )로 접속하도록 경로를 수정해주면 됩니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;## Classic 환경 - Ubuntu&lt;/span&gt;
kr.archive.ubuntu.com &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mirror.ncloud.com &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;변경&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
security.ubuntu.com &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mirror.ncloud.com &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;변경&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;## VPC 환경 - Ubuntu&lt;/span&gt;
archive.ubuntu.conm &lt;span class=&quot;nt&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; mirror.ncloud.com &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;변경&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_12.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;/etc/apt/sources.list 에서 위와 같이 변경-저장한 후에 apt update 를 해주면 변경해준 Ncloud 내부 repository에서 패키지 리스트를 가져와 설치를 합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_08.png&quot; alt=&quot;네이버 클라우드 Secure Zone이나 Private Network 환경에서 Repository를 변경해 리눅스 패키지 설치하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;설치 된 repository를 테스트 하기 위해 apt install 을 사용하여 패키지 다운로드를 해보면 Ncloud 내부 repository에서 패키지 설치가 진행되는 것을 확인 할 수 있습니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;~# apt &lt;span class=&quot;nt&quot;&gt;-y&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;apache2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_repository_change_on_private_network_09.png&quot; alt=&quot;네이버 클라우드Secure Zone에서 OS 패키지를 설치하기 위해 Repository를 변경하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Ubuntu 또한 sed 명령어로 간단하게 변경할 수 있습니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;## Classic 환경 - Ubuntu&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/kr.archive.ubuntu.com/mirror.ncloud.com/g'&lt;/span&gt; /etc/apt/sources.list
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/security.ubuntu.com/mirror.ncloud.com/g'&lt;/span&gt; /etc/apt/sources.list

&lt;span class=&quot;c&quot;&gt;## VPC 환경 - Ubuntu&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;sed&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'s/archive.ubuntu.com/mirror.ncloud.com/g'&lt;/span&gt; /etc/apt/sources.list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;CentOS mirror 사이트 안내
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.centos.org/download/mirrors/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.centos.org/download/mirrors/&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Ubuntu mirror 사이트 안내
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://launchpad.net/ubuntu/+archivemirrors&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://launchpad.net/ubuntu/+archivemirrors&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-10-25&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 Ncloud(네이버 클라우드) Secure Zone이나 VPC 환경의 Private Network처럼 외부와 통신이 단절된 환경에서 리눅스 패키지를 설치해야 할 때 repository 경로를 네이버 클라우드 내부 repository로 바꾸면 문제없이 패키지 설치를 할 수 있습니다. 여기서는 OS별로, Classic/VPC 환경별로 변경하는 방법을 정리해보겠습니다.</summary></entry><entry><title type="html">모니터링 서비스 Cloud Insight 설정 가이드</title><link href="https://docs.3rdeyesys.com/81.manage/ncp_manage_cloud_insight_guide/" rel="alternate" type="text/html" title="모니터링 서비스 Cloud Insight 설정 가이드" /><published>2021-10-15T00:00:00+09:00</published><updated>2021-10-15T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/81.manage/ncp_manage_cloud_insight_guide</id><content type="html" xml:base="https://docs.3rdeyesys.com/81.manage/ncp_manage_cloud_insight_guide/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;네이버 클라우드와 사용자 애플리케이션의 성능/운영 지표를 통합 관리하고, 장애나 이벤트가 발생했을 때 SMS 및 Email로 알람 통보를 해주는 서비스인 Cloud Insight 서비스를 설정하는 방법에 대해 정리해보겠습니다.&lt;/p&gt;

&lt;h4 id=&quot;monitoring-서비스-vs-cloud-insight-서비스&quot;&gt;Monitoring 서비스 vs Cloud Insight 서비스&lt;/h4&gt;
&lt;p&gt;Classic 환경에 있는 Monitoring 서비스와 Cloud Insight 서비스의 차이점을 정리하면 다음과 같습니다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Monitoring 서비스는 Classic 환경에서만 사용할 수 있다.&lt;/li&gt;
  &lt;li&gt;Cloud Insight 서비스는 Classic, VPC 양쪽에서 모두 사용할 수 있고, 두가지 환경을 통합해서 보여준다.&lt;/li&gt;
  &lt;li&gt;Monitoring 서비스는 Server 제품 (AutoScaling 포함)만 모니터링 한다.&lt;/li&gt;
  &lt;li&gt;Cloud Insight 서비스는 Server 뿐만 아니라 Object Storage, Load Balancer 등 10여개의 서비스를 모니터링 한다.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;적용-서비스-리스트&quot;&gt;적용 서비스 리스트&lt;/h2&gt;
&lt;p&gt;위 비교에서도 설명했듯이 Cloud Insight는 Server 뿐만 아니라 네이버 클라우드의 다양한 서비스의 모니터링 정보를 확인할 수 있는데 해당 리스트는 다음과 같습니다.&lt;/p&gt;

&lt;h4 id=&quot;classic&quot;&gt;Classic&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Server&lt;/li&gt;
  &lt;li&gt;Load Balancer&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;vpc&quot;&gt;VPC&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Server(VPC)&lt;/li&gt;
  &lt;li&gt;Load Balancer(VPC)&lt;/li&gt;
  &lt;li&gt;Cloud DB for MySQL(VPC)&lt;/li&gt;
  &lt;li&gt;Cloud DB for MSSQL(VPC)&lt;/li&gt;
  &lt;li&gt;Cloud DB for Redis(VPC)&lt;/li&gt;
  &lt;li&gt;Cloud DB for MongoDB(VPC)&lt;/li&gt;
  &lt;li&gt;Cloud Hadoop(VPC)&lt;/li&gt;
  &lt;li&gt;Auto Scaling Group(VPC)&lt;/li&gt;
  &lt;li&gt;Kubernetes Service(VPC)&lt;/li&gt;
  &lt;li&gt;Search Engine Service(VPC)&lt;/li&gt;
  &lt;li&gt;Cloud Data Streaming Service(VPC)&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;통합&quot;&gt;통합&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Cloud Search&lt;/li&gt;
  &lt;li&gt;Object Storage&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;이용-신청&quot;&gt;이용 신청&lt;/h2&gt;
&lt;p&gt;Cloud Insight 서비스는 이용 신청을 해야 사용할 수 있습니다. Classic, VPC 어떤 환경에서든 [Cloud Insight(Monitoring)] - [Subscription]에서 [상품 이용 신청] 버튼을 클릭해서 이용 신청을 합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_01.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;대시보드&quot;&gt;대시보드&lt;/h2&gt;
&lt;p&gt;이용 신청을 한 후에 [Dashboard] 메뉴에 가면 아래와 같이 현재 사용 중인 서비스 중에서 모니터링 가능한 서비스 리스트를 확인할 수 있습니다.&lt;br /&gt;
또한 기본으로 제공되는 대시보드에서 확인할 수 있는 모니터링 항목을 각 서비스별로 고정되어 있습니다. 
추가적인 항목을 확인하려면 별도로 대시보드를 생성해야 하는데 이에 대해서는 아래쪽에서 확인해보겠습니다.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;일부 서비스의 경우 리스트에 나타날 때까지 시간이 걸릴 수도 있습니다. 여유있게 1시간 정도 후에 확인해보시면 됩니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_02.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;load-balancer-모니터링&quot;&gt;Load Balancer 모니터링&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_08.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;object-storage-모니터링&quot;&gt;Object Storage 모니터링&lt;/h4&gt;
&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_09.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;server-모니터링&quot;&gt;Server 모니터링&lt;/h4&gt;
&lt;p&gt;위에서 설명했듯이 Server 제품도 GPU 관련 항목을 제외하면 5가지 정도의 기본 모니터링 항목을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_03.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;커스텀-대시보드&quot;&gt;커스텀 대시보드&lt;/h2&gt;
&lt;p&gt;좀 더 상세한 모니터링 데이터를 확인하려면 커스텀 대시보드가 필요하고 그전에 [상세 모니터링]을 설정해야 합니다. 서버 설정에서 [상세 모니터링 설정 변경] 메뉴를 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_04.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[상세 모니터링 신청] 팝업에서 [예] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_05.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:500px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;대시보드-생성&quot;&gt;대시보드 생성&lt;/h4&gt;
&lt;p&gt;[Dashboard] 화면에서 [대시보드 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_06.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;생성 팝업에서 대시보드 이름과 설명을 입력합니다.
&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_07.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:500px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;생성된 대시보드에서 [위젯 추가] 버튼을 클릭해서 위젯을 추가합니다.
&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_10.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;위젯 이름을 입력하고, 종류는 [Time Series], [Pie Chart], [Table], [Index], [Markdown] 중에서 하나를 선택합니다.  여기서는 [CPU Usage]와 [Time Series]를 선택했습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_11.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 데이터 설정에서 CPU 사용율에 해당하는 CPU/used_rto 등 필요한 항목을 선택하고 [선택 항목 추가] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_12.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;항목을 추가하면 아래쪽 화면에 다음과 같이 리스트를 확인할 수 있습니다. 설정이 완료되었으면 [다음] 버튼을 클릭해 마지막 확인을 하고 생성을 완료합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_13.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;위에서 추가한 [CPU Usage] 위젯과 함께 추가로 [Server - Load Average], [File System], [Memory Usage], [Net Work (Max In/Out bps)] 데이터를 확인할 수 있는 위젯을 추가하면 다음과 같은 대시보드를 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_14.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;통보-대상자-등록&quot;&gt;통보 대상자 등록&lt;/h2&gt;
&lt;p&gt;이제 이벤트를 등록하고 알람을 통보 받을 대상자를 등록해보겠습니다.&lt;br /&gt;
먼저 통보 대상자 그룹을 생성합니다.  [Cloud Insight(Monitoring)] - [Notification Recipient] 메뉴에서 [전체 대상자] 옆에 있는 [ + ] 버튼을 클릭하고 아래 입력칸에 그룹명을 입력합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_15.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;네이버 클라우드 계정 생성을 할 때 기본으로 1명의 대상자가 등록됩니다. 해당 대상자를 위에서 생성한 그룹에 할당하기 위해 선택하고 [할당] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_20.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그룹 할당 팝업에서 [할당] 버튼을 클릭합니다.
&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_21.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:500px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;대상자 리스트에서 해당 대상자에 그룹이 할당된 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_22.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;이벤트-규칙-등록&quot;&gt;이벤트 규칙 등록&lt;/h2&gt;
&lt;p&gt;이제 이벤트를 등록해보겠습니다. [Cloud Insight(Monitoring)] - [Configuration] - [Event Rue]에서 [Event Rule 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_16.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;이벤트 규칙을 생성해서 감시가 필요한 상품을 선택합니다. 여기서는 [Sever(VPC)]를 선택하겠습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_17.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[감시 대상 설정]에서 [전체 보기]를 선택하고, 감시 대상에 체크한 후 [다음] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_18.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;감시 항목 및 조건 설정에서 [전체 보기]를 선택하고, CPU, Memory 등의 항목 중에서 원하는 항목을 선택합니다.&lt;br /&gt;
여기서는 [CPU]에서 CPU 사용율에 해당하는 [CPU/used_rto]를 선택하고, 90% 이상인 상태가 5분 이상 지속되면 경고 알림을 보내도록 설정했습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_19.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 감시 대상에서 설정한 이벤트가 발생했을 때 어떤 액션을 취할 것인가를 설정해보겠습니다.&lt;br /&gt;
설정 가능한 액션은 [알림 메시지 발송], [Integration], [Cloud Functions], [Auto Scaling 정책] 중에서 선택할 수 있는데, 여기서는 [알림 메시지 발송]을 선택하겠습니다.&lt;br /&gt;
통보 대상자 그룹을 선택하고, [Email]과 [SMS]중에서 원하는 것을 선택하고, [다음] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_23.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;마지막으로 이벤트 규칙 이름을 입력하고, 앞에서 설정한 내용들을 확인한 후에 [생성] 버튼을 클릭합니다.
&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_24.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;유지보수-계획-설정&quot;&gt;유지보수 계획 설정&lt;/h2&gt;
&lt;p&gt;앞에서 설정한 이벤트 규칙이 업데이트나 점검 등의 유지보수가 진행되는 동안에도 작동되면 유지보수 시간 동안 쉼없이 통보 알람이 울리게 됩니다.&lt;br /&gt;
이런 불편함이 없도록 Cloud Insight에서는 유지보수 계획 일정을 등록해두면 등록된 기간 동안에는 이벤트 규칙에 따른 통보알람이 울리지 않습니다.&lt;/p&gt;

&lt;p&gt;유지보수 일정은 아래와 같이 달력 행태나 리스트 형태로 확인 가능하며 [유지보수 계획 설정하기] 버튼으로 일정을 등록할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_25.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;제목을 입력하고, 작업 기간, 작업 대상, 디멘션을 선택하면 아래와 같이 선택한 대상과 디멘션이 리스트로 나타납니다.  보통 위에서 설정했던 이벤트 규칙에 해당하는 항목들을 선택하면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_26.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;유지보수 계획을 설정하면 아래와 같이 일정에서 확인할 수 있으며 해당 기간 동안에는 이벤트 통보가 진행되지 않습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_cloud_insight_guide_27.jpg&quot; alt=&quot;네이버 클라우드 모니터링 서비스 Cloud Insight 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;Cloud Insight 소개
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightoverview&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightoverview&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Cloud Insight 사용 가이드
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightconsole&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightconsole&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-10-18&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 네이버 클라우드와 사용자 애플리케이션의 성능/운영 지표를 통합 관리하고, 장애나 이벤트가 발생했을 때 SMS 및 Email로 알람 통보를 해주는 서비스인 Cloud Insight 서비스를 설정하는 방법에 대해 정리해보겠습니다.</summary></entry><entry><title type="html">서버 모니터링 서비스 Monitoring 설정 가이드</title><link href="https://docs.3rdeyesys.com/81.manage/ncp_manage_monitoring_guide/" rel="alternate" type="text/html" title="서버 모니터링 서비스 Monitoring 설정 가이드" /><published>2021-10-07T00:00:00+09:00</published><updated>2021-10-07T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/81.manage/ncp_manage_monitoring_guide</id><content type="html" xml:base="https://docs.3rdeyesys.com/81.manage/ncp_manage_monitoring_guide/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;네이버 클라우드 Classic 환경에서 서버 모니터링을 설정하는 가이드입니다.&lt;br /&gt;
Classic에서는 Monitoring 서비스와 Cloud Insite(Monitoring) 서비스 이렇게 2가지 서비스가 있는데 여기서는 Monitoring 서비스를 설정하는 방법에 대해 정리해보겠습니다.&lt;/p&gt;

&lt;h4 id=&quot;기본-모니터링-vs-상세-모니터링&quot;&gt;기본 모니터링 vs 상세 모니터링&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;기본 모니터링 : 네이버 클라우드에서 서버를 생성하면 별다른 설정을 하지 않아도 CPU, Memory 사용 등의 기본적인 항목들의 데이터를 확인할 수 있는데 이를 기본 모니터링이라고 하며 5분 단위의 데이터를 확인할 수 있습니다.
확인 가능한 데이터는 [CPU Used], [Memory Used (except cache/buffer)], [Disk Used], [Swap Used], [Network In (bps)], [Network Out (bps)], [Disk Read (bytes)], [Disk Write (bytes)] 입니다.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;상세 모니터링 : 기본 모니터링보다 훨씬 많고 상세한 데이터를 확인하고, 상태 감시와 통보 알람 설정을 통해 지정한 수치 이상의 상태가 되면 문자나 메일로 통보 받을 수 있는 모니터링 서비스이며, 1분 단위의 데이터를 확인할 수 있습니다. 
네이버 클라우드 [Console] - [Monitoring] 서비스가 바로 [상세 모니터링]입니다. 또한 [Monitoring] 서비스에서는 Auto Scaling 그룹에 대한 이벤트 설정도 할 수 있습니다.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;기본-모니터링&quot;&gt;기본 모니터링&lt;/h2&gt;
&lt;p&gt;아래와 같이 서버 리스트에서 모니터링할 서버를 선택하고 위에 있는 [모니터링] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_01.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;기본 모니터링에서는 5분 주기의 데이터를 확인할 수 있고, 날짜와 기간을 선택해서 데이터를 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_02.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;상세-모니터링&quot;&gt;상세 모니터링&lt;/h2&gt;
&lt;p&gt;[Monitoring] 서비스 즉, 상세 모니터링 서비스는 별도로 설정이 필요한데 설정하는 방법은 아래와 같이 기본 모니터링 화면에서 [상세 모니터링 설정] 링크를 클릭하거나, 
서버 리스트에서 [서버 관리 및 설정 변경] 메뉴 - [상세 모니터링 설정 변경] 메뉴를 클릭하면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_03.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_04.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[상세 모니터링] 신청화면입니다. 특별한 설정이 필요한 것은 아니므로 신청 화면에서 [예] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_05.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[상세 모니터링] 신청이 끝나면 바로 [Monitoring] - [Notification Recipient] 즉, 이벤트 통보 대상자 화면으로 넘어갑니다.  여기서는 모니터링 대상인 서버에서 이벤트가 발생했을 때 연락이 가도록 대상자를 등록하게 됩니다.&lt;br /&gt;
기본으로 계정 사용자 정보가 등록되어 있는데, 혹시 등록되지 않았을 경우에는 [대상자 추가] 버튼을 클릭해서 통보 대상자를 등록합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_06.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;대시보드&quot;&gt;대시보드&lt;/h2&gt;

&lt;h4 id=&quot;통합-대시보드&quot;&gt;통합 대시보드&lt;/h4&gt;
&lt;p&gt;[Monitoring] - [Integrated Dashboard] 즉, 통합 대시보드 메뉴로 이동합니다.&lt;br /&gt;
여기서는 일별 이벤트 발생 횟수와 히스토리, 그리고, 각 모니터링 항목별로 상위 5개의 서버 정보를 통합해서 표시합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_07.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;서버-대시보드&quot;&gt;서버 대시보드&lt;/h4&gt;
&lt;p&gt;[Monitoring] - [Dashboard] - [Server Dashboard]에서는 전체 서버들의 상세한 모니터링 데이터를 리스트로 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_08.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;좀 더 자세한 정보를 확인하고 싶으면 서버 리스트에서 원하는 서버를 선택합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_09.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;서버를 선택하면 아래와 같이 모니터링 데이터를 차트로 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_10.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그리고 서버 Process와 File System 사용 정보도 상세하게 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_11.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;감시-통보-설정&quot;&gt;감시-통보 설정&lt;/h2&gt;
&lt;p&gt;Monitoring 시스템에서 수집하는 성능 Item 중 사용자가 지정한 Item이 임계치 값을 벗어난 경우에 Event가 발생합니다. 
Event를 발생 하게 하는 조건을 감시설정이라 하며 해당 Event를 Mail or SMS로 수신 받는 설정을 통보설정이라고 합니다.&lt;/p&gt;

&lt;p&gt;[Monitoring] - [Configuration] - [New Observation] 메뉴에서 우선 감시설정에 등록하고자 하는 서버를 먼저 선택하고 하단의 감시설정 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_12.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 감시할 항목을 설정합니다. CPU, Memory 등 원하는 분류와 항목을 선택하고 임계치 등의 수치를 입력 후 추가 버튼을 클릭합니다.&lt;br /&gt;
또한, 미리 Template을 등록해 두면 이후에 여러 서버들에 설정을 쉽게 적용할 수 있습니다.&lt;/p&gt;

&lt;h4 id=&quot;분류-항목별-주의-사항&quot;&gt;분류 항목별 주의 사항&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;프로세스: 상세 입력칸에 프로세스명을 입력할 때는 정규 표현식으로 입력해야 합니다.&lt;/li&gt;
  &lt;li&gt;파일 시스템:  상세 입력칸에 경로 입력 시 Linux의 경우 ‘/’ 경로로 입력하고, Windows의 경우 ‘C:, D:’ 등의 경로로 반드시 대문자로 입력합니다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_13.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그 다음은 통보 받을 대상자와 통보 방법을 선택하고 [추가] 버튼을 클릭합니다. 통보 대상자가 리스트에 없을 경우 위쪽에 있는 [통보대상관리] 버튼을 클릭해서 대상자를 등록한 후에 다시 추가합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_14.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;마지막으로 지금까지 설정한 내용들을 다시 한번 확인 한 후에 [최종 확인] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_15.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;통보-알람-중지&quot;&gt;통보 알람 중지&lt;/h2&gt;
&lt;p&gt;서버 점검 등을 진행할 때는 통보 알람 기능을 중지 시켜두면 불필요한 알람을 받을 필요가 없어서 편리합니다.
[Monitoring] - [Configuration] - [Notification Stop] 메뉴에서 서버를 선택하고 [알람중지] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_16.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;알람 중지 팝업 화면에서 목적과 기간 등을 선택해서 적용합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_management_monitoring_guide_17.jpg&quot; alt=&quot;네이버 클라우드 서버 모니터링 서비스 Monitoring 설정 가이드&quot; style=&quot;width:700px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;Sub Account 사용 가이드
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/management-management-1-1&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/management-management-1-1&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-10-08&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 네이버 클라우드 Classic 환경에서 서버 모니터링을 설정하는 가이드입니다. Classic에서는 Monitoring 서비스와 Cloud Insite(Monitoring) 서비스 이렇게 2가지 서비스가 있는데 여기서는 Monitoring 서비스를 설정하는 방법에 대해 정리해보겠습니다.</summary></entry><entry><title type="html">Classic 환경에서 AutoScaling 설정하는 방법</title><link href="https://docs.3rdeyesys.com/1.compute/ncp_server_autoscaling_classic_guide/" rel="alternate" type="text/html" title="Classic 환경에서 AutoScaling 설정하는 방법" /><published>2021-09-16T00:00:00+09:00</published><updated>2021-09-16T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/1.compute/ncp_server_autoscaling_classic_guide</id><content type="html" xml:base="https://docs.3rdeyesys.com/1.compute/ncp_server_autoscaling_classic_guide/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;AutoScaling 서비스는 미리 등록한 설정에 따라 서버 수를 자동으로 증가 또는 감소시켜 안정적인 서비스를 유지하면서 비용을 절감할 수 있도록 해주는 서비스입니다.&lt;br /&gt;
여기서는 네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법을 정리해보겠습니다.&lt;/p&gt;

&lt;h2 id=&quot;기본-설정&quot;&gt;기본 설정&lt;/h2&gt;
&lt;p&gt;Auto Scaling 설정은 우선 [Auto Scaling] - [Launch Configuration]에서&lt;br /&gt;
[Launch Configuration 생성] 버튼을 클릭하는 것으로 시작합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_01.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:700px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;서버-이미지-선택&quot;&gt;서버 이미지 선택&lt;/h4&gt;
&lt;p&gt;서버 이미지는 네이버 클라우드에서 제공하는 기본 이미지를 선택할 수도 있고, 기존 서버로 만들어 둔 [내 서버 이미지]를 사용할 수도 있습니다. 여기서는 기본 이미지를 사용하는 것으로 하겠습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_02.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;서버-설정&quot;&gt;서버 설정&lt;/h4&gt;
&lt;p&gt;스토리지 종류와 서버 타입 등을 선택합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_03.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;이름-설정&quot;&gt;이름 설정&lt;/h4&gt;
&lt;p&gt;Launch Configuration의 이름을 입력합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_04.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;인증키-설정&quot;&gt;인증키 설정&lt;/h4&gt;
&lt;p&gt;인증키는 기존에 보유하고 있던 인증키를 이용해도 되고, 새로운 인증키를 설정해도 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_05.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;네트워크-접근-설정-acg&quot;&gt;네트워크 접근 설정 (ACG)&lt;/h4&gt;
&lt;p&gt;ACG 설정도 기존에 보유하고 있던 ACG 중에서 선택해도 되고, 새로운 ACG를 생성해도 됩니다. 여기서는 새로운 ACG를 생성하는 방법으로 진행하겠습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_06.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ACG 이름을 입력하고, [myIp]를 클릭, 허용할 포트를 입력한 후 [추가] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_07.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;최종-확인&quot;&gt;최종 확인&lt;/h4&gt;
&lt;p&gt;지금까지 설정한 정보를 마지막으로 확인 한 후에 이상이 없으면 [Launch Configuration 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_08.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;group-생성&quot;&gt;Group 생성&lt;/h2&gt;
&lt;p&gt;다음으로 Auto Scaling Group을 생성합니다. [Auto Scaling] - [Auto Scaling Group]에서 [Auto Scaling Group 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_09.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;launch-configuration-선택&quot;&gt;Launch Configuration 선택&lt;/h4&gt;
&lt;p&gt;위에서 생성했던 Launch Configuration을 선택합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_10.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;그룹-설정&quot;&gt;그룹 설정&lt;/h4&gt;
&lt;p&gt;여기서는 생성될 서버들의 이름과 최소, 최대 개수 등을 설정합니다.&lt;br /&gt;
Auto Scaling Group당 최대 30대의 서버를 생성할 수 있고, Zone, NAT Gateway 설정은 생성 후 변경할 수 없으며, 변경이 필요하면 새로 생성하여 사용해야 합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_11.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;서버이름 Prefix&lt;/strong&gt; : 최대7자까지 지정할 수 있고, 나머지 이름의 뒷부분은 영문,숫자의 조합으로 무작위로 자동 생성됩니다.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;서버 용량&lt;/strong&gt; : 최소, 최대, 기대 용량은 서버 대수를 의미하며 각각 &lt;strong&gt;0~30까지 입력 가능&lt;/strong&gt;합니다.&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;strong&gt;쿨다운 기본값&lt;/strong&gt; : 새로운 서버가 생성되었다고 해도, init script 실행이나 업데이트 설치 등의 이유로 실제 서비스를 수행할 수 있을 정도로 준비되기까지는 시간이 소요될 수 있습니다. 
즉, 쿨다운(Cooldown) 시간이란 실제 Scaling이 수행 중이거나 수행 완료된 이후에 모니터링 이벤트 알람이 발생하더라도 반응하지 않고 무시하도록 설정한 기간입니다.&lt;br /&gt;
&lt;strong&gt;값을 입력하지 않으면 기본값인 300초가 적용됩니다&lt;/strong&gt;.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;헬스체크 보류기간&lt;/strong&gt; : 서버 인스턴스가 생성되어 상태가 ‘운영 중’으로 바뀌었더라도, 서버의 업데이트 설치 등 작업에 의해서 헬스 체크에 정상 응답하지 못하는 경우가 생길 수 있습니다. 
이런 경우 헬스 체크 보류 기간을 지정하면 해당 기간 동안에는 헬스 체크에 실패하더라도 서버에 이상이 있다고 판단하지 않습니다.&lt;br /&gt;
&lt;strong&gt;값을 입력하지 않으면 기본값인 300초가 적용됩니다&lt;/strong&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;정책일정-설정&quot;&gt;정책/일정 설정&lt;/h4&gt;
&lt;p&gt;정책과 일정을 여기서 바로 설정할 수도 있고 나중에 설정할 수도 있습니다. 여기서는 [나중에 설정]으로 선택하고 아래쪽에서 다시 살펴보겠습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_12.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;통보-설정&quot;&gt;통보 설정&lt;/h4&gt;
&lt;p&gt;통보 설정을 여기서 바로 설정할 수도 있고 나중에 설정할 수도 있습니다. 여기서는 [나중에 설정]으로 선택하고 아래쪽에서 다시 살펴보겠습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_13.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;최종확인&quot;&gt;최종확인&lt;/h4&gt;
&lt;p&gt;생성된 Group 설정값들을 마지막으로 확인하고 [Auto Scaling Group 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_14.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;서버-생성-확인&quot;&gt;서버 생성 확인&lt;/h2&gt;
&lt;p&gt;위에서 Auto Scaling Group을 생성하면 아래와 같이 즉시 서버가 생성되는 것을 확인할 수 있습니다. 처음에는 [기대용량]에 입력한 개수만큼 서버가 생성됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_15.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;설정-관리---정책&quot;&gt;설정 관리 - 정책&lt;/h2&gt;
&lt;p&gt;위에서 나중에 설정하기로 하고 넘어갔던 Auto Scaling Group의 정책, 일정, 이력, 통보 설정 등을 확인해보겠습니다.&lt;br /&gt;
[Auto Scaling Group]에서 해당 그룹을 선택하고, [설정 및 관리] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_16.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;정책-설정&quot;&gt;정책 설정&lt;/h4&gt;
&lt;p&gt;먼저 [정책] 탭을 선택하고, [생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_17.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;우선 서버를 증가시킬 정책으로 increase라는 이름을 입력하고, 증가시킬 서버 개수를 입력 후 [추가] 옵션을 선택하고 [생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_18.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 서버를 감소시킬 정책으로 decrease라는 이름을 입력하고, 감소시킬 서버 개수를 입력 후 [반납] 옵션을 선택하고 [생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_19.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;서버 증가, 감소를 위한 정책 2가지가 생성된 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_20.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;그룹-이벤트-설정&quot;&gt;그룹 이벤트 설정&lt;/h2&gt;
&lt;p&gt;위에서 설정한 정책이 언제 실행되게할 것인가 즉, 서버에 어떤 이벤트가 발생했을 때 정책을 실행할 것인가를 결정하는 그룹 이벤트를 설정합니다.&lt;br /&gt;
그룹 이벤트 설정은 [Classic] - [Monitoring] - [Group Event Setting]에서 할 수 있으며, 위에서 만든 Auto Scaling 그룹을 선택하고 [그룹 이벤트 설정] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_21.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;그룹 이벤트 설정 화면에 들어가면 위에서 만든 increase, decrease 2가지 정책이 리스트에 나타나는 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_22.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;정책이 발동되게 하는 이벤트는 여러가지가 있는데, 가장 많이 선택하는 것이 CPU 사용률입니다.&lt;br /&gt;
여기서는 &lt;strong&gt;CPU 사용률(used)이 60% 이상일 때 increase 정책&lt;/strong&gt;, &lt;strong&gt;CPU 사용률(used)이 30% 이하일 때 decrease 정책&lt;/strong&gt;이 실행되도록 이벤트를 추가했습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_23.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;설정-관리---일정&quot;&gt;설정 관리 - 일정&lt;/h2&gt;
&lt;p&gt;위에서는 서버에 설정한 이벤트가 발생했을 때 정책이 발동되도록 했지만, 그 외에도 특정한 시간대에 사용자가 몰리는 피크 타임이 일정하다면 해당 시간 전후로 서버를 늘리거나 감소시키는 방법도 가능합니다.&lt;br /&gt;
여기 [일정] 탭에서 해당 내용을 설정해두면 피크 타임에 미리 서버를 증가시켜서 좀 더 안정적인 서비스가 가능하게 설정할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_24.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;설정-관리---이력&quot;&gt;설정 관리 - 이력&lt;/h2&gt;
&lt;p&gt;[이력] 탭에서는 서버가 생성되고 반납된 기록을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_25.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;설정-관리---통보&quot;&gt;설정 관리 - 통보&lt;/h2&gt;
&lt;p&gt;[통보] 탭에서는 서버가 생성되거나 반납될 때 지정한 담당자에게 SMS나 Email로 통보하도록 설정할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_26.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;설정-관리---서버&quot;&gt;설정 관리 - 서버&lt;/h2&gt;
&lt;p&gt;[서버] 탭은 현재 작동중인 서버 리스트를 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_27.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;중지---서버삭제&quot;&gt;중지 - 서버삭제&lt;/h2&gt;
&lt;p&gt;마지막으로, Auto Scaling을 중지하고, 작동중인 서버를 한번에 모두 삭제하는 방법을 확인해보겠습니다.&lt;/p&gt;

&lt;p&gt;[Auto Scaling] - [Auto Scaling Group]에서 해당 그룹을 선택하고 상단에 있는 [수정] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_28.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;여기서 &lt;strong&gt;[최소 용량], [최대 용량], [기대 용량] 항목의 값을 모두 0으로 설정&lt;/strong&gt;하면, 현재 작동중인 서버가 모두 반납되고, 더 이상 서버가 추가로 생성되지 않아서 Auto Scaling이 중지되게 됩니다.&lt;br /&gt;
사실 [최소 용량], [기대 용량] 2가지 항목만 0으로 설정해도 되지만, 혹시나 모르는 상황을 위해서 깔끔하게 3가지 항목 모두 0으로 설정합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_server_autoscaling_guide_classic_29.jpg&quot; alt=&quot;네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;서비스-제한사항&quot;&gt;서비스 제한사항&lt;/h2&gt;
&lt;p&gt;Auto Scaling 설정과 서버 스펙 등에 대한 제한 사항을 정리해보겠습니다.&lt;/p&gt;

&lt;h4 id=&quot;스펙-및-서비스-환경-제한-사항&quot;&gt;스펙 및 서비스 환경 제한 사항&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;총 디스크 사이즈 150GB 이하 서버만 가능&lt;/li&gt;
  &lt;li&gt;Windows OS는 Windows 2012. 2016만 지원&lt;/li&gt;
  &lt;li&gt;내 서버 이미지의 경우, 원본 서버의 부팅 디스크 크기가 50GB인 경우만 지원(100GB 디스크에 대해서는 추후 지원 예정)&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;설정-제한-사항&quot;&gt;설정 제한 사항&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;고객별 생성 가능한 Auto Scaling Group 최대 수: 10&lt;/li&gt;
  &lt;li&gt;고객별 생성 가능한 Launch Configuration 최대 수: 100&lt;/li&gt;
  &lt;li&gt;Auto Scaling Group당 생성 가능한 스케줄(Scheduled Action) 최대 수: 100&lt;/li&gt;
  &lt;li&gt;Auto Scaling Group당 생성 가능한 Scaling Policy 최대 수: 10&lt;/li&gt;
  &lt;li&gt;Auto Scaling Group당 생성 가능한 최대 서버 수: 30대&lt;/li&gt;
  &lt;li&gt;Auto Scaling Group당 연결 가능한 Load Balancer 최대 수 : 10&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;용어-정리&quot;&gt;용어 정리&lt;/h2&gt;
&lt;p&gt;Auto Scaling에서 사용되는 주요 용어들을 정리해보겠습니다.&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;용어&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt; &lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;설명&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Scale-in / Scale-out&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Auto Scaling Group을 생성하여 고객이 설정한 Policy에 따라 사용하고 있는 가상 서버의 자동 확장(Scale-out) 및 자동 축소(Scale-in)하도록 제공합니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Auto Scaling Group&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;여러 개의 서버 인스턴스들을 Auto Scaling Group 이라는 하나의 그룹으로 묶어 놓게 됩니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Launch Configuration&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Auto Scaling Group에서 가상 서버를 시작 구성하는 데 사용하는 템플릿입니다. Auto Scaling Group을 생성할 때는 Launch Configuration을 지정해야 합니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Auto Scaling Group의 최소 용량/최대 용량&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Auto Scaling Group의 최소/최대 서버 수를 말합니다. 최소 서버 수의 경우, 항상 이 값과 같거나 이 값보다 더 큰 서버 수가 유지됩니다. 서버를 한 대도 보유하지 않을 수 있게 하려면 0으로 설정합니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;기대 용량 (Desired Capacity)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;서버의 수는 기대 용량값에 따라서 조정됩니다. 이 값은 최소 용량 이상, 최대 용량 이하여야 합니다. 이 값이 지정되어 있지 않으면 초기에 최소 용량만큼 서버를 생성합니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;쿨다운 기본값(초) (Default Cooldown)&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Default Cooldown(초) 새로운 서버가 생성되었다고 해도, Init-Script 실행이나 업데이트 설치 등의 이유로 실제 서비스를 수행할 수 있을 정도로 준비되기까지는 시간이 소요될 수 있습니다. 쿨다운(Cooldown) 시간이란 실제 Scaling이 수행 중이거나 수행 완료된 이후에 모니터링 이벤트 알람이 발생하더라도 무시하도록 설정한 기간입니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;헬스체크&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Auto Scaling Group의 가상 서버에 주기적인 상태 확인을 수행하여 상태가 비정상인 가상 서버를 식별하도록 Health Check를 합니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;헬스체크 보류 기간&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;서버가 생성되어 ‘운영중’으로 변경되었더라도 서버의 업데이트 설치 등 작업에 의해서 헬스 체크에 정상 응답하지 못하는 경우가 생길 수 있습니다. 이런 경우 헬스 체크 보류기간을 지정하면 해당 기간 동안에는 헬스 체크에 실패하더라도 서버 헬스에 이상이 있다고 판단하지 않습니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;헬스체크 유형&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;서버와 Load Balancer 둘 중에 선택할 수 있습니다. Auto Scaling Group 설정에서 Load Balancer 이름을 지정한 경우에는 헬스 체크 유형 역시 Load Balancer로 설정합니다. 이런 경우 Auto Scaling은 Load Balancer 헬스 체크 방식과 기준에 따라 서버의 상태를 판단합니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;반납 정책&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Auto Scaling 과정에서 추가된 서버에 대한 Scale-in 작업에 대해, 고객이 API 질의 형식으로먼저 반납할 서버를 지정할 수 있습니다. 기본 설정은 먼저 생성된 서버부터 반납합니다.&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;Policy&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt; &lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Auto Scaling이 일어나는 방식을 정의하고 있는데, 이를 ‘Policy’로 정의하고 있습니다. Auto Scale-out 이 발생할 때, 몇 대의 가상 서버를 늘릴 것인지, 반대로 Scale-in이 발생할 때 몇 대의 가상서버를 줄일 것인지를 정의합니다. 대수로 정의할 수 도 있고, %로 정의할 수도 있습니다.&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;p&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/compute-autoscaling-autoscalingoverview&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/compute-autoscaling-autoscalingoverview&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-09-17&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 AutoScaling 서비스는 미리 등록한 설정에 따라 서버 수를 자동으로 증가 또는 감소시켜 안정적인 서비스를 유지하면서 비용을 절감할 수 있도록 해주는 서비스입니다. 여기서는 네이버 클라우드 Classic 환경에서 AutoScaling 설정하는 방법을 정리해보겠습니다.</summary></entry><entry><title type="html">SSL인증서 DCV (Domain Control Validation) 인증 방법과 유의사항 정리</title><link href="https://docs.3rdeyesys.com/3.security/ncp_security_ssl_dcv_method/" rel="alternate" type="text/html" title="SSL인증서 DCV (Domain Control Validation) 인증 방법과 유의사항 정리" /><published>2021-09-09T00:00:00+09:00</published><updated>2021-09-09T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/3.security/ncp_security_ssl_dcv_method</id><content type="html" xml:base="https://docs.3rdeyesys.com/3.security/ncp_security_ssl_dcv_method/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;HTTPS 접속을 위한 SSL 인증서를 발급 받기 위해서는 DCV (Domain Control Validation)를 인증받아야 하는데, 이때 필요한 인증방법과 유의 사항을 정리해보겠습니다.&lt;/p&gt;

&lt;h2 id=&quot;dcv-인증-방법&quot;&gt;DCV 인증 방법&lt;/h2&gt;
&lt;p&gt;DCV 인증방법은 3가지가 있습니다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Email 인증&lt;/li&gt;
  &lt;li&gt;DNS 인증&lt;/li&gt;
  &lt;li&gt;http 인증&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;email-인증&quot;&gt;Email 인증&lt;/h2&gt;
&lt;p&gt;Email 인증은 도메인 등록정보에서 확인되는 이메일과 추가로 5개의 임의로 지정된 메일주소로 인증메일을 발송합니다.&lt;/p&gt;

&lt;h4 id=&quot;도메인-등록-정보-이메일&quot;&gt;도메인 등록 정보 이메일&lt;/h4&gt;
&lt;p&gt;도메인 등록 기관에서 도메인 소유자 정보를 노출하지 않는 블라인드 서비스를 이용하고 있을 경우 인증메일을 받을 수 없습니다.
Email 인증을 하기 전에 블라인드 서비스를 해제하고 인증을 요청하셔야 합니다.&lt;/p&gt;

&lt;h4 id=&quot;추가-5개의-임의로-지정된-이메일&quot;&gt;추가 5개의 임의로 지정된 이메일&lt;/h4&gt;
&lt;p&gt;임의로 지정된 이메일 주소는 admin, administrator, hostmaster, postmaster, webmaster 등 5가지이며 추가/수정이 불가능합니다.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;위의 총 6개 메일 주소 중에서 적어 1개는 유효한 메일주소여야 이메일 인증을 문제없이 완료할 수 있습니다.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;이메일-인증-유의사항&quot;&gt;이메일 인증 유의사항&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;해외 발신 이메일이 차단되도록 설정되어 있지 않은지 확인이 필요합니다.&lt;/li&gt;
  &lt;li&gt;메일함 용량 부족으로 반송되지 않도록 확인이 필요합니다.&lt;/li&gt;
  &lt;li&gt;자체 메일 서버일 경우 메일서버가 장애가 생기지 않도록 확인이 필요합니다.&lt;/li&gt;
  &lt;li&gt;스팸 차단 서비스나 장비에서 차단이 될 수도 있으므로 확인이 필요합니다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;참고 : &lt;a href=&quot;https://www.sslcert.co.kr/products/domain-control-validation#email&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.sslcert.co.kr/products/domain-control-validation#email&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;dns-인증&quot;&gt;DNS 인증&lt;/h2&gt;
&lt;p&gt;DNS 인증은 다음과 같은 순서로 진행하면 됩니다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;인증서 신청 사이트에서 CNAME 처리를 위한 DNS 인증용 Host, Record 용 값을 확인합니다.&lt;/li&gt;
  &lt;li&gt;DNS에 위에서 확인한 값으로 CNAME Record를 등록합니다.&lt;/li&gt;
  &lt;li&gt;인증서 신청 사이트에서 DNS 인증 요청 버튼을 클릭합니다.&lt;/li&gt;
&lt;/ol&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# 예시&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# {Host값}.test.co.kr CNAME {Record Value}&lt;/span&gt;
_PVG823NLK4DFSVFSANLK.test.co.kr CNAME 089DFCHKJFDSUIFDSLKJ38NF.ssltest.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;dns-인증-유의사항&quot;&gt;DNS 인증 유의사항&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;Host 값 첫번째 문자열이 _(언더바)입니다. CNAME 등록시에 빠뜨리지 않도록 주의해야 합니다.&lt;/li&gt;
  &lt;li&gt;DNS서버에서 TTL 값을 너무 길게 설정하면 그 시간 만큼 인증을 받을 수 없으므로 주의해야 합니다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;참고 : &lt;a href=&quot;https://www.sslcert.co.kr/products/domain-control-validation#dns&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.sslcert.co.kr/products/domain-control-validation#dns&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;http-인증&quot;&gt;http 인증&lt;/h2&gt;
&lt;p&gt;http인증은 http 인증용 코드를 다운로드 받아 해당 도메인 웹사이트에 등록하는 방법입니다.&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;인증서 신청 사이트에서 http 인증용 코드 파일을 다운로드 받습니다.&lt;/li&gt;
  &lt;li&gt;해당 도메인 사이트에  /.well-known/pki-validation/ 경로를 생성합니다.&lt;/li&gt;
  &lt;li&gt;다운로드 받은 인증 코드 파일을 위 경로에 업로드 합니다.&lt;/li&gt;
  &lt;li&gt;인증서 신청 사이트에서 http 인증 요청 버튼을 클릭합니다.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;해당 도메인이 test.co.kr 일 경우 인증 코드 파일의 경로는 다음과 같은 형식이어야 합니다.&lt;/p&gt;
&lt;div class=&quot;language-html highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;   http://test.co.kr/.well-known/pki-validation/[파일명].txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h4 id=&quot;http-인증-유의사항&quot;&gt;http 인증 유의사항&lt;/h4&gt;
&lt;ul&gt;
  &lt;li&gt;인증 코드 파일은 수정하면 안됩니다.&lt;/li&gt;
  &lt;li&gt;인증 코드 파일 포맷은 ANSI 포맷이어야 합니다.&lt;/li&gt;
  &lt;li&gt;SSL 발급 신청시 도메인에 www. 입력하였더라도, DCV 인증시에는 www를 제외하고 검사가 진행됩니다.&lt;br /&gt;
만약  현재 사이트가 www. 로만 접속가능한 상태라면, DCV 인증을 위해 임시라도 www. 제외된 접속이 가능하게 만들어 놓아야 합니다.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;참고 : &lt;a href=&quot;https://www.sslcert.co.kr/products/domain-control-validation#http&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.sslcert.co.kr/products/domain-control-validation#http&lt;/a&gt;&lt;/p&gt;

&lt;h4 id=&quot;로드밸런서load-balancer를-사용하면서-http-인증할-때-사전작업&quot;&gt;로드밸런서(Load Balancer)를 사용하면서 http 인증할 때 사전작업&lt;/h4&gt;
&lt;p&gt;http 인증을 하려고 할 때 로드밸런서를 사용하게 될 경우 로드밸런서의 도메인을 DNS에서 CNAME 처리를 먼저 진행하고, DNS 전파가 완료된 것을 확인한 후에 http 인증을 요청해야 합니다.&lt;/p&gt;

&lt;p&gt;예를 들어 네이버 클라우드에서는 다음과 같이 처리하면 됩니다.&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c&quot;&gt;# DNS CNAME 처리 예제&lt;/span&gt;
www.test.co.kr  CNAME  slb-&lt;span class=&quot;k&quot;&gt;****&lt;/span&gt;.ncloudslb.com
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;인증서 발급 사이트 : SecureSign
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sslcert.co.kr/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.sslcert.co.kr/&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;DCV 인증 절차 안내
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://www.sslcert.co.kr/products/domain-control-validation&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.sslcert.co.kr/products/domain-control-validation&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-09-10&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 HTTPS 접속을 위한 SSL 인증서를 발급 받기 위해서는 DCV (Domain Control Validation)를 인증받아야 하는데, 이때 필요한 인증방법과 유의 사항을 정리해보겠습니다.</summary></entry><entry><title type="html">Sub Account 생성 가이드</title><link href="https://docs.3rdeyesys.com/81.manage/ncp_manage_sub_account_guide/" rel="alternate" type="text/html" title="Sub Account 생성 가이드" /><published>2021-08-19T00:00:00+09:00</published><updated>2021-08-19T00:00:00+09:00</updated><id>https://docs.3rdeyesys.com/81.manage/ncp_manage_sub_account_guide</id><content type="html" xml:base="https://docs.3rdeyesys.com/81.manage/ncp_manage_sub_account_guide/">&lt;h2 id=&quot;개요&quot;&gt;개요&lt;/h2&gt;
&lt;p&gt;Sub Account(서브 계정)는 네이버 클라우드의 서비스 자원을 여러 사용자가 동시에 이용, 관리해야 할 때 필요한 만큼만 권한을 부여해서 사용할 수 있게 해주는 서비스입니다.&lt;br /&gt;
Sub Account를 사용하면 사내 담당부서나 담당자별로 지정된 자원에만 접근하도록 하거나, 협력사에게 일부 접근권한을 부여해야 할 때 효과적입니다.&lt;/p&gt;

&lt;h2 id=&quot;특징&quot;&gt;특징&lt;/h2&gt;
&lt;p&gt;네이버 클라우드의 Sub Account는 다음과 같은 특징이 있습니다.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;별도의 로그인 페이지를 이용하여 접속&lt;/li&gt;
  &lt;li&gt;대시보드에서 서브 계정 수, 그룹 수, 정책 수, 접속 페이지 설정을 확인할 수 있음&lt;/li&gt;
  &lt;li&gt;그룹, 정책, 역할을 생성해 상세한 권한 설정을 할 수 있음&lt;/li&gt;
  &lt;li&gt;Access Key를 별도로 생성해서 사용할 수 있음&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;주요-권한&quot;&gt;주요 권한&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;네이버 클라우드 메인 계정과 동일한 접근 권한&lt;br /&gt;
  &lt;strong&gt;NCP_ADMINISTRATOR&lt;/strong&gt; 정책을 부여하시면 메인 계정과 동일하게 네이버클라우드플랫폼 내 포털, 콘솔을 접근할 수 있습니다&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;네이버 클라우드 콘솔 내 모든 상품/서비스 접근 권한&lt;br /&gt;
  &lt;strong&gt;NCP_INFRA_MANAGER&lt;/strong&gt; 정책을 부여하시면 메인 계정과 동일하게 콘솔 내 모든 상품/서비스에 접근할 수 있습니다.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;네이버 클라우드 콘솔 내 각 상품/서비스별 접근 권한&lt;br /&gt;
  &lt;strong&gt;NCP_상품/서비스명_MANAGER/VIEWER&lt;/strong&gt; 정책을 부여하시면 해당 상품/서비스에 접근할 수 있습니다.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;네이버 클라우드 포털 내 마이페이지 “이용관리” 메뉴 접근 권한&lt;br /&gt;
  &lt;strong&gt;NCP_FINANCE_MANAGER&lt;/strong&gt; 정책을 부여하시면 포털 마이페이지 내 “서비스 이용내역/현황, 프로모션 내역, 청구 내역 추세” 메뉴에 접근할 수 있습니다.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;서브-계정-생성&quot;&gt;서브 계정 생성&lt;/h2&gt;
&lt;p&gt;[Console] - [Sub Account] - [Sub Accounts]에서 [서브 계정 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_01.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;서브 계정 생성 화면에서는 로그인 아이디, 이름, 이메일 주소를 우선 입력합니다.&lt;/p&gt;

&lt;p&gt;다음으로 접근 유형으로 [Console 접근]과 [API 접근]을 모두 허용할 것인지, 하나만 허용할 것인지 선택하고, 
Conosole 접근의 경우에 지정한 IP대역에서만 접근하게 할 것인지, 모두 허용할 것인지도 선택합니다.&lt;/p&gt;

&lt;p&gt;휴대폰 문자인증 또는 이메일 인증 등의 2차 인증을 적용할 것인지도 선택합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_02.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;마지막으로 로그인 비밀번호를 입력하고, 해당 서브 계정으로 로그인 시에 비밀번호를 변경하도록 할 것인지 선택할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_03.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;계정-정책-추가&quot;&gt;계정 정책 추가&lt;/h2&gt;
&lt;p&gt;생성된 서브 계정을 클릭하면 서브 계정 상세 설정 화면으로 이동합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_04.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;서브 계정 상세 화면에서는 정책, 그룹, Access Key를 추가하고 관리할 수 있습니다.  우선 정책 탭에서 [추가] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_05.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;정책 추가 화면에서는 네이버 클라우드에서 기본으로 제공하는 [관리형 정책]과 사용자가 직접 정의하는 [사용자 정의 정책]이 있습니다.&lt;br /&gt;
우선 [관리형 정책]에서 필요한 정책을 선택하고 [추가] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_06.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;여기서는 네이버 클라우드의 Server 상품 내 모든 기능을 이용할 수 있는 권한인 [NCP_SERVER_MANAGER] 선택했고, 아래와 같이 추가된 것을 확인할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_07.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;접속-환경-설정&quot;&gt;접속 환경 설정&lt;/h2&gt;
&lt;p&gt;네이버 클라우드 서브 계정은 별도의 접속 페이지가 존재하는데, 
[Sub Account] - [Dashboard]에서 서브 계정으로 접속하기 위한 페이지 주소를 입력할 수 있습니다.&lt;br /&gt;
https://www.ncloud.com/nsa/ 까지는 공통이고, 그 다음 페이지 주소를 직접 입력하고 저장하시면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_09.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 [미사용 세션 만료 설정]에서는 로그인된 서브 계정이 아무 활동없이 미사용일 경우 지정한 시간 기준으로 자동 로그아웃이 되도록 설정할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_10.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:680px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;[비밀번호 만료 설정]은 비밀번호 만료를 활성화할 경우 지정된 만료일을 초과했을 때 비밀번호를 변경해야만 접속 할 수 있습니다.&lt;br /&gt;
활성화 하지 않았을 경우에는 90일이 지난 후에 비밀번호 변경 안내 팝업만 나타납니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_11.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:680px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;접속---로그인&quot;&gt;접속 - 로그인&lt;/h2&gt;
&lt;p&gt;위에서 설정한 접속 페이지 [ &lt;strong&gt;https://www.ncloud.com/nsa/******&lt;/strong&gt;] 에 접속하면 아래와 같이 서브 계정 로그인 화면을 확인할 수 있습니다.&lt;br /&gt;
바꿔말하면 서브 계정(Sub Account)은 반드시 위에서 설정한 접속 페이지로 접속해야 합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_18.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;access-key-설정&quot;&gt;Access Key 설정&lt;/h2&gt;
&lt;p&gt;서브 계정에서 Access Key를 사용해야 할 경우 서브 계정 상세 화면 [Access Key]탭에서 [추가] 버튼을 클릭해 생성할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_08.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;계정-그룹-설정&quot;&gt;계정 그룹 설정&lt;/h2&gt;
&lt;p&gt;여러 개의 서브 계정을 묶어서 하나의 그룹으로 구성하면 해당 그룹의 서브 계정에 동일한 정책을 동시에 적용할 수 있습니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_12.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;사용자-정의-정책-생성&quot;&gt;사용자 정의 정책 생성&lt;/h2&gt;
&lt;p&gt;서브 계정 정책에는 네이버 클라우드에서 기본으로 제공하는 [관리형 정책] 외에도 사용자가 직접 설정하는 [사용자 정의 정책]도 사용할 수 있습니다. 
[Sub Account] - [Plicies]에서 [정책 생성] 버튼을 클릭합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_13.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;vpc-환경에서-정책-생성&quot;&gt;VPC 환경에서 정책 생성&lt;/h4&gt;
&lt;p&gt;정책 이름을 입력하고, VPC를 선택 후, 어떤 서비스 상품에 적용할 것인지 선택합니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_14.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;다음으로 Actions 항목에서는 읽기 권한인 View 또는 수정 권한인 Change를 선택하면 아래쪽에 리소스별로 상세한 권한 설정을 할 수 있는 화면이 나타납니다. 
모든 설정을 마치고, 아래쪽 [적용대상 추가] 버튼을 클릭하면 됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_17.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;classic-환경에서-정책-생성&quot;&gt;Classic 환경에서 정책 생성&lt;/h4&gt;
&lt;p&gt;Classic 환경에서는 리소스별 상세 권한은 설정할 수 없고, View 또는 Change를 선택한 후에 [적용대상 추가] 버튼을 클릭하면 모든 권한이 추가됩니다.
&lt;img src=&quot;../../images/ncp_manage_sub_account_15.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;아래와 같이 선택한 서비스 상품에 대해 모든 리전, 모든 리소스에 선택한 권한이 지정됩니다.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;../../images/ncp_manage_sub_account_16.jpg&quot; alt=&quot;네이버 클라우드Sub Account 생성 가이드&quot; style=&quot;width:770px;align:center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;참고-url&quot;&gt;참고 URL&lt;/h2&gt;
&lt;ol&gt;
  &lt;li&gt;Sub Account 사용 가이드
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://guide.ncloud-docs.com/docs/management-management-4-1&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/management-management-4-1&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ol&gt;

&lt;blockquote&gt;
  &lt;p&gt;문서 최종 수정일 : 2021-08-20&lt;/p&gt;
&lt;/blockquote&gt;</content><author><name>{&quot;name&quot;=&gt;nil, &quot;email&quot;=&gt;nil, &quot;twitter&quot;=&gt;nil}</name></author><summary type="html">개요 Sub Account(서브 계정)는 네이버 클라우드의 서비스 자원을 여러 사용자가 동시에 이용, 관리해야 할 때 필요한 만큼만 권한을 부여해서 사용할 수 있게 해주는 서비스입니다. Sub Account를 사용하면 사내 담당부서나 담당자별로 지정된 자원에만 접근하도록 하거나, 협력사에게 일부 접근권한을 부여해야 할 때 효과적입니다.</summary></entry></feed>